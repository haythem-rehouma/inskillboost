<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 4 - Code First Approach</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Prism.js pour la coloration syntaxique -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #512BD4;
            --secondary-color: #239B56;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --info-color: #17a2b8;
            --dark-color: #343a40;
            --light-bg: #f8f9fa;
            --border-color: #dee2e6;
            --text-muted: #6c757d;
            --ef-purple: #512BD4;
            --ef-green: #239B56;
            --ef-orange: #FF6B35;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, var(--light-bg) 0%, #e9ecef 100%);
            color: var(--dark-color);
            line-height: 1.6;
            padding-top: 80px;
        }

        /* Navigation */
        .navbar {
            background: linear-gradient(135deg, var(--ef-purple), var(--ef-green)) !important;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
        }

        .navbar-brand, .nav-link {
            color: white !important;
            font-weight: 500;
        }

        .nav-link:hover {
            color: rgba(255,255,255,0.8) !important;
        }

        /* Header */
        .module-header {
            background: linear-gradient(135deg, var(--ef-purple), var(--ef-green));
            color: white;
            padding: 3rem 0;
            margin-bottom: 3rem;
        }

        .module-number {
            background: rgba(255,255,255,0.2);
            border-radius: 50px;
            padding: 0.5rem 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            display: inline-block;
        }

        .module-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }

        .module-description {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        /* Content */
        .content-section {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            border-left: 5px solid var(--ef-purple);
        }

        .section-title {
            color: var(--ef-purple);
            font-weight: 700;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .code-block {
            background: #2d3748;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
            overflow-x: auto;
        }

        .code-block pre {
            margin: 0;
            color: #e2e8f0;
            font-family: 'JetBrains Mono', monospace;
        }

        .highlight-box {
            background: linear-gradient(135deg, rgba(81, 43, 212, 0.1), rgba(35, 155, 86, 0.1));
            border-left: 4px solid var(--ef-purple);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .warning-box {
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.1), rgba(255, 107, 53, 0.1));
            border-left: 4px solid var(--warning-color);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .exercise-box {
            background: linear-gradient(135deg, rgba(23, 162, 184, 0.1), rgba(32, 201, 151, 0.1));
            border-left: 4px solid var(--info-color);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .exercise-title {
            color: var(--info-color);
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .approach-comparison {
            background: #f8f9fa;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 2rem;
            margin: 1rem 0;
        }

        .approach-card {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            height: 100%;
            transition: all 0.3s ease;
        }

        .approach-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .approach-header {
            background: var(--ef-purple);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            margin-bottom: 1rem;
            text-align: center;
            font-weight: 600;
        }

        .conventions-table {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .conventions-table th {
            background: var(--ef-green);
            color: white;
            text-align: center;
        }

        .fluent-example {
            background: linear-gradient(135deg, rgba(35, 155, 86, 0.1), rgba(40, 167, 69, 0.1));
            border-left: 4px solid var(--ef-green);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .annotation-example {
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(255, 140, 66, 0.1));
            border-left: 4px solid var(--ef-orange);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            padding: 2rem 0;
        }

        .btn-nav {
            background: linear-gradient(135deg, var(--ef-purple), var(--ef-green));
            border: none;
            color: white;
            padding: 0.75rem 2rem;
            border-radius: 25px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .btn-nav:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(81, 43, 212, 0.3);
            color: white;
        }

        @media (max-width: 768px) {
            .module-title {
                font-size: 2rem;
            }
            .content-section {
                padding: 1.5rem;
            }
            .navigation-buttons {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-database me-2"></i>
                Formation Entity Framework
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">
                            <i class="fas fa-home me-1"></i>Accueil
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html#modules">
                            <i class="fas fa-book me-1"></i>Modules
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Module Header -->
    <div class="module-header">
        <div class="container">
            <div class="module-number">
                <i class="fas fa-code me-2"></i>
                Module 4
            </div>
            <h1 class="module-title">Code First Approach</h1>
            <p class="module-description">
                Ma√Ætrisez l'approche Code First : cr√©ez votre base de donn√©es √† partir de vos classes C#
            </p>
            <div class="d-flex gap-3 mt-3 flex-wrap">
                <span class="badge bg-light text-dark px-3 py-2">
                    <i class="fas fa-clock me-1"></i>5 heures
                </span>
                <span class="badge bg-light text-dark px-3 py-2">
                    <i class="fas fa-tasks me-1"></i>12 exercices
                </span>
                <span class="badge bg-light text-dark px-3 py-2">
                    <i class="fas fa-layer-group me-1"></i>Code First
                </span>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container">
        
        <!-- Section 1: Introduction Code First expliqu√©e pour super d√©butants -->
        <div class="content-section">
            <h2 class="section-title">
                <i class="fas fa-rocket"></i>
                Qu'est-ce que l'Approche Code First ? (Guide Complet pour D√©butants)
            </h2>

            <h3><i class="fas fa-graduation-cap me-2"></i>Rappel : Database First vs Code First</h3>
            
            <p class="lead">
                Dans le Module 3, nous avons appris Database First (partir d'une base existante). 
                Maintenant, nous allons d√©couvrir Code First, qui est l'approche inverse !
            </p>

            <div class="row mb-4">
                <div class="col-md-6">
                    <div class="warning-box">
                        <h5><i class="fas fa-database me-2"></i>Database First (Module 3)</h5>
                        <p><strong>Analogie :</strong> Dessiner les plans d'une maison existante</p>
                        <ul>
                            <li>‚úÖ Vous avez une base de donn√©es d√©j√† cr√©√©e</li>
                            <li>‚úÖ Entity Framework g√©n√®re les classes C#</li>
                            <li>‚úÖ Les classes correspondent √† la base existante</li>
                        </ul>
                        <p class="small text-muted mb-0">
                            <strong>Direction :</strong> Base de donn√©es ‚Üí Classes C#
                        </p>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="highlight-box">
                        <h5><i class="fas fa-code me-2"></i>Code First (Ce module)</h5>
                        <p><strong>Analogie :</strong> Construire une maison √† partir des plans</p>
                        <ul>
                            <li>‚úÖ Vous √©crivez les classes C# d'abord</li>
                            <li>‚úÖ Entity Framework g√©n√®re la base de donn√©es</li>
                            <li>‚úÖ La base correspond exactement √† vos classes</li>
                        </ul>
                        <p class="small text-muted mb-0">
                            <strong>Direction :</strong> Classes C# ‚Üí Base de donn√©es
                        </p>
                    </div>
                </div>
            </div>

            <h3><i class="fas fa-lightbulb me-2"></i>Code First : Explication D√©taill√©e</h3>

            <div class="highlight-box">
                <h5><i class="fas fa-info-circle me-2"></i>Qu'est-ce que Code First exactement ?</h5>
                <p>
                    <strong>Code First</strong> est une approche o√π vous commencez par √©crire vos classes C# 
                    (vos "mod√®les" de donn√©es), et Entity Framework cr√©e automatiquement la base de donn√©es 
                    qui correspond parfaitement √† ces classes.
                </p>
                
                <h6><i class="fas fa-cogs me-2"></i>Le processus en 4 √©tapes simples :</h6>
                <ol>
                    <li><strong>Vous √©crivez</strong> vos classes C# (Product, Category, Customer, etc.)</li>
                    <li><strong>Vous configurez</strong> Entity Framework (optionnel)</li>
                    <li><strong>Entity Framework analyse</strong> vos classes</li>
                    <li><strong>Entity Framework cr√©e</strong> automatiquement la base de donn√©es correspondante</li>
                </ol>
            </div>

            <h4><i class="fas fa-scenario me-2"></i>Sc√©narios Concrets o√π Utiliser Code First</h4>

            <div class="row">
                <div class="col-md-6">
                    <div class="highlight-box">
                        <h6><i class="fas fa-seedling me-2 text-success"></i>Sc√©nario 1 : Nouveau Projet</h6>
                        <p class="small">
                            Vous commencez un tout nouveau projet d'application. 
                            Aucune base de donn√©es n'existe encore, vous partez de z√©ro.
                        </p>
                        <p class="small text-success mb-0">
                            <strong>Solution :</strong> Code First ! Vous concevez vos mod√®les m√©tier 
                            en C# et laissez EF cr√©er la base de donn√©es parfaite.
                        </p>
                    </div>

                    <div class="highlight-box">
                        <h6><i class="fas fa-users-cog me-2 text-success"></i>Sc√©nario 2 : √âquipe de D√©veloppeurs</h6>
                        <p class="small">
                            Votre √©quipe est compos√©e uniquement de d√©veloppeurs C#. 
                            Personne n'est expert en bases de donn√©es SQL.
                        </p>
                        <p class="small text-success mb-0">
                            <strong>Solution :</strong> Code First ! Vous travaillez avec ce que vous 
                            ma√Ætrisez (C#) et EF s'occupe du SQL.
                        </p>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="highlight-box">
                        <h6><i class="fas fa-code-branch me-2 text-success"></i>Sc√©nario 3 : D√©veloppement Agile</h6>
                        <p class="small">
                            Votre projet √©volue rapidement. Vous ajoutez souvent de nouvelles 
                            fonctionnalit√©s qui n√©cessitent de nouveaux champs ou tables.
                        </p>
                        <p class="small text-success mb-0">
                            <strong>Solution :</strong> Code First avec migrations ! Vous modifiez 
                            vos classes et EF met √† jour la base automatiquement.
                        </p>
                    </div>

                    <div class="highlight-box">
                        <h6><i class="fas fa-cloud me-2 text-success"></i>Sc√©nario 4 : D√©ploiement Multi-Environnement</h6>
                        <p class="small">
                            Vous devez d√©ployer sur d√©veloppement, test, pr√©production, production. 
                            Chaque environnement doit avoir la m√™me structure de base.
                        </p>
                        <p class="small text-success mb-0">
                            <strong>Solution :</strong> Code First ! Vos classes voyagent avec votre code, 
                            la base se cr√©e identiquement partout.
                        </p>
                    </div>
                </div>
            </div>

            <h4><i class="fas fa-balance-scale me-2"></i>Avantages et Inconv√©nients Expliqu√©s Simplement</h4>

            <div class="approach-comparison">
                <div class="row">
                    <div class="col-md-6">
                        <div class="approach-card">
                            <div class="approach-header">
                                <i class="fas fa-code me-2"></i>Code First
                            </div>
                            
                            <h6><i class="fas fa-thumbs-up me-2 text-success"></i>Avantages</h6>
                            
                            <div class="mb-3">
                                <h6><i class="fas fa-crown me-1 text-success"></i>Contr√¥le Total du Mod√®le</h6>
                                <p class="small mb-0">
                                    Vous d√©cidez de tout : noms des tables, types de colonnes, 
                                    relations, contraintes. C'est VOTRE vision qui compte.
                                </p>
                            </div>

                            <div class="mb-3">
                                <h6><i class="fas fa-history me-1 text-success"></i>√âvolution avec Migrations</h6>
                                <p class="small mb-0">
                                    Besoin d'ajouter une colonne ? Modifiez votre classe, 
                                    cr√©ez une migration, et EF met √† jour toutes les bases.
                                </p>
                            </div>

                            <div class="mb-3">
                                <h6><i class="fas fa-robot me-1 text-success"></i>Int√©gration CI/CD</h6>
                                <p class="small mb-0">
                                    Vos pipelines de d√©ploiement peuvent automatiquement 
                                    mettre √† jour les bases de donn√©es.
                                </p>
                            </div>

                            <div class="mb-3">
                                <h6><i class="fas fa-tags me-1 text-success"></i>Versioning du Sch√©ma</h6>
                                <p class="small mb-0">
                                    Chaque changement de base est trac√©, versionn√©, 
                                    et peut √™tre annul√© si n√©cessaire.
                                </p>
                            </div>

                            <div class="mb-0">
                                <h6><i class="fas fa-rocket me-1 text-success"></i>D√©veloppement Moderne</h6>
                                <p class="small mb-0">
                                    Approche recommand√©e pour les nouvelles applications .NET.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="approach-card">
                            <div class="approach-header">
                                <i class="fas fa-database me-2"></i>Database First
                            </div>
                            
                            <h6><i class="fas fa-thumbs-up me-2 text-success"></i>Avantages</h6>
                            
                            <div class="mb-3">
                                <h6><i class="fas fa-database me-1 text-success"></i>Base Existante</h6>
                                <p class="small mb-0">
                                    Parfait quand vous avez d√©j√† une base de donn√©es 
                                    avec des ann√©es de donn√©es.
                                </p>
                            </div>

                            <div class="mb-3">
                                <h6><i class="fas fa-magic me-1 text-success"></i>G√©n√©ration Automatique</h6>
                                <p class="small mb-0">
                                    50 tables ? Pas de probl√®me, EF g√©n√®re 50 classes 
                                    en quelques secondes.
                                </p>
                            </div>

                            <div class="mb-3">
                                <h6><i class="fas fa-users me-1 text-success"></i>√âquipes S√©par√©es</h6>
                                <p class="small mb-0">
                                    L'√©quipe DB travaille sur la base, l'√©quipe Dev 
                                    sur l'application, ind√©pendamment.
                                </p>
                            </div>

                            <div class="mb-0">
                                <h6><i class="fas fa-archive me-1 text-success"></i>Syst√®mes Legacy</h6>
                                <p class="small mb-0">
                                    Id√©al pour moderniser d'anciens syst√®mes 
                                    sans toucher √† la base existante.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mt-3">
                    <div class="col-md-6">
                        <div class="warning-box">
                            <h6><i class="fas fa-exclamation-triangle me-2 text-warning"></i>Inconv√©nients Code First</h6>
                            
                            <div class="mb-2">
                                <h6><i class="fas fa-cogs me-1 text-warning"></i>Configuration Plus Complexe</h6>
                                <p class="small mb-0">
                                    Vous devez apprendre les Data Annotations et Fluent API 
                                    pour des configurations avanc√©es.
                                </p>
                            </div>

                            <div class="mb-0">
                                <h6><i class="fas fa-graduation-cap me-1 text-warning"></i>Courbe d'Apprentissage</h6>
                                <p class="small mb-0">
                                    Plus de concepts √† ma√Ætriser : migrations, conventions, 
                                    relations, etc.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="warning-box">
                            <h6><i class="fas fa-exclamation-triangle me-2 text-warning"></i>Inconv√©nients Database First</h6>
                            
                            <div class="mb-2">
                                <h6><i class="fas fa-lock me-1 text-warning"></i>Moins de Contr√¥le</h6>
                                <p class="small mb-0">
                                    Vous subissez la structure existante de la base, 
                                    m√™me si elle n'est pas optimale.
                                </p>
                            </div>

                            <div class="mb-0">
                                <h6><i class="fas fa-eraser me-1 text-warning"></i>R√©g√©n√©ration √âcrase</h6>
                                <p class="small mb-0">
                                    Chaque r√©g√©n√©ration efface vos modifications 
                                    personnalis√©es (sauf si bien organis√©es).
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <h4><i class="fas fa-route me-2"></i>Notre Plan d'Apprentissage pour ce Module</h4>

            <div class="highlight-box">
                <h6><i class="fas fa-map me-2"></i>Ce que nous allons apprendre ensemble :</h6>
                <ol>
                    <li><strong>Les conventions par d√©faut</strong> ‚Üí Comment EF devine la structure de base</li>
                    <li><strong>Les Data Annotations</strong> ‚Üí Configurer avec des attributs C#</li>
                    <li><strong>La Fluent API</strong> ‚Üí Configuration avanc√©e dans le DbContext</li>
                    <li><strong>Les relations complexes</strong> ‚Üí Many-to-Many, One-to-One, h√©ritage</li>
                    <li><strong>La cr√©ation de base</strong> ‚Üí M√©thodes pour g√©n√©rer la base de donn√©es</li>
                    <li><strong>Les bonnes pratiques</strong> ‚Üí Comment bien organiser son projet</li>
                </ol>
            </div>

            <div class="warning-box">
                <h6><i class="fas fa-info-circle me-2"></i>Important √† retenir</h6>
                <p>
                    Code First ne remplace pas Database First. Ce sont deux outils compl√©mentaires :
                </p>
                <ul class="mb-0">
                    <li><strong>Nouveau projet</strong> ‚Üí Code First recommand√©</li>
                    <li><strong>Base existante</strong> ‚Üí Database First plus pratique</li>
                    <li><strong>√âquipe mixte</strong> ‚Üí Choisir selon les comp√©tences</li>
                    <li><strong>Projet √©volutif</strong> ‚Üí Code First + migrations = parfait</li>
                </ul>
            </div>
        </div>

        <!-- Section 2: Conventions par d√©faut expliqu√©es pour super d√©butants -->
        <div class="content-section">
            <h2 class="section-title">
                <i class="fas fa-cogs"></i>
                Les Conventions par D√©faut d'Entity Framework (Guide Complet)
            </h2>

            <h3><i class="fas fa-question-circle me-2"></i>Qu'est-ce qu'une Convention ?</h3>

            <div class="highlight-box">
                <h5><i class="fas fa-lightbulb me-2"></i>Analogie Simple</h5>
                <p>
                    Imaginez que vous entrez dans un restaurant. M√™me sans qu'on vous le dise, 
                    vous savez que :
                </p>
                <ul>
                    <li>Les fourchettes sont √† gauche de l'assiette</li>
                    <li>Les couteaux sont √† droite</li>
                    <li>Le verre est en haut √† droite</li>
                </ul>
                <p class="mb-0">
                    <strong>Les conventions Entity Framework fonctionnent pareil !</strong> 
                    EF "devine" comment organiser votre base de donn√©es en suivant des r√®gles 
                    logiques et pr√©visibles.
                </p>
            </div>

            <div class="warning-box">
                <h6><i class="fas fa-magic me-2"></i>La Magie des Conventions</h6>
                <p>
                    Quand vous √©crivez une classe C# simple comme <code>Product</code>, 
                    Entity Framework applique automatiquement des r√®gles pour cr√©er 
                    la table SQL correspondante. <strong>Vous n'avez rien √† configurer !</strong>
                </p>
                <p class="mb-0">
                    C'est ce qui rend Code First si puissant : vous √©crivez du C# normal, 
                    et EF s'occupe de tout le SQL pour vous.
                </p>
            </div>

            <h3><i class="fas fa-table me-2"></i>Les Conventions Principales (Expliqu√©es Simplement)</h3>

            <div class="table-responsive">
                <table class="table table-striped conventions-table">
                    <thead>
                        <tr>
                            <th style="width: 20%;">√âl√©ment</th>
                            <th style="width: 30%;">Convention EF</th>
                            <th style="width: 25%;">Exemple</th>
                            <th style="width: 25%;">R√©sultat SQL</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Nom de table</strong></td>
                            <td>Nom de la classe (au pluriel)</td>
                            <td><code>Product</code> ‚Üí <code>Products</code></td>
                            <td><code>CREATE TABLE Products</code></td>
                        </tr>
                        <tr>
                            <td><strong>Cl√© primaire</strong></td>
                            <td><code>Id</code> ou <code>[ClassName]Id</code></td>
                            <td><code>Id</code> ou <code>ProductId</code></td>
                            <td><code>Id INT PRIMARY KEY IDENTITY</code></td>
                        </tr>
                        <tr>
                            <td><strong>Cl√© √©trang√®re</strong></td>
                            <td><code>[NavigationProperty]Id</code></td>
                            <td><code>CategoryId</code> pour <code>Category</code></td>
                            <td><code>CategoryId INT FOREIGN KEY</code></td>
                        </tr>
                        <tr>
                            <td><strong>Type string</strong></td>
                            <td><code>nvarchar(max)</code>, nullable</td>
                            <td><code>string Name</code></td>
                            <td><code>Name NVARCHAR(MAX) NULL</code></td>
                        </tr>
                        <tr>
                            <td><strong>Type int</strong></td>
                            <td><code>int</code>, non nullable</td>
                            <td><code>int Stock</code></td>
                            <td><code>Stock INT NOT NULL</code></td>
                        </tr>
                        <tr>
                            <td><strong>Type decimal</strong></td>
                            <td><code>decimal(18,2)</code></td>
                            <td><code>decimal Price</code></td>
                            <td><code>Price DECIMAL(18,2) NOT NULL</code></td>
                        </tr>
                        <tr>
                            <td><strong>Type DateTime</strong></td>
                            <td><code>datetime2(7)</code></td>
                            <td><code>DateTime CreatedAt</code></td>
                            <td><code>CreatedAt DATETIME2(7) NOT NULL</code></td>
                        </tr>
                        <tr>
                            <td><strong>Type bool</strong></td>
                            <td><code>bit</code></td>
                            <td><code>bool IsActive</code></td>
                            <td><code>IsActive BIT NOT NULL</code></td>
                        </tr>
                        <tr>
                            <td><strong>Collection</strong></td>
                            <td>Relation One-to-Many</td>
                            <td><code>ICollection&lt;Order&gt;</code></td>
                            <td>Pas de colonne (relation)</td>
                        </tr>
                        <tr>
                            <td><strong>Objet</strong></td>
                            <td>Navigation property</td>
                            <td><code>Category Category</code></td>
                            <td>Pas de colonne (relation)</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3><i class="fas fa-code me-2"></i>Exemple Concret : De la Classe C# √† la Table SQL</h3>

            <p>Voyons comment EF transforme une classe C# simple en table SQL :</p>

            <h4>1. Notre Classe C# (Code First)</h4>
            <div class="code-block">
                <pre><code class="language-csharp">// Cette classe utilise UNIQUEMENT les conventions par d√©faut
// Aucune configuration suppl√©mentaire n√©cessaire !
public class Product
{
    // Convention : Id = cl√© primaire auto-incr√©ment√©e
    public int Id { get; set; }
    
    // Convention : string = NVARCHAR(MAX) NULL
    public string Name { get; set; }
    
    // Convention : string = NVARCHAR(MAX) NULL  
    public string Description { get; set; }
    
    // Convention : decimal = DECIMAL(18,2) NOT NULL
    public decimal Price { get; set; }
    
    // Convention : int = INT NOT NULL
    public int Stock { get; set; }
    
    // Convention : bool = BIT NOT NULL
    public bool IsActive { get; set; }
    
    // Convention : DateTime = DATETIME2(7) NOT NULL
    public DateTime CreatedAt { get; set; }
    
    // Convention : Cette propri√©t√© + CategoryId = cl√© √©trang√®re
    public int CategoryId { get; set; }
    public Category Category { get; set; }
    
    // Convention : ICollection = relation One-to-Many
    // Un Product peut √™tre dans plusieurs OrderItems
    public ICollection<OrderItem> OrderItems { get; set; }
}</code></pre>
            </div>

            <h4>2. Table SQL G√©n√©r√©e Automatiquement</h4>
            <div class="code-block">
                <pre><code class="language-sql">-- Table cr√©√©e automatiquement par Entity Framework
CREATE TABLE Products (
    Id INT IDENTITY(1,1) PRIMARY KEY,           -- Auto-incr√©ment√©
    Name NVARCHAR(MAX) NULL,                    -- Texte illimit√©, optionnel
    Description NVARCHAR(MAX) NULL,             -- Texte illimit√©, optionnel  
    Price DECIMAL(18,2) NOT NULL,               -- Prix avec 2 d√©cimales, obligatoire
    Stock INT NOT NULL,                         -- Nombre entier, obligatoire
    IsActive BIT NOT NULL,                      -- Bool√©en, obligatoire
    CreatedAt DATETIME2(7) NOT NULL,            -- Date/heure pr√©cise, obligatoire
    CategoryId INT NOT NULL,                    -- Cl√© √©trang√®re, obligatoire
    
    -- Contrainte de cl√© √©trang√®re automatique
    CONSTRAINT FK_Products_Categories_CategoryId 
        FOREIGN KEY (CategoryId) REFERENCES Categories(Id)
);</code></pre>
            </div>

            <div class="highlight-box">
                <h6><i class="fas fa-magic me-2"></i>Ce qui s'est pass√© automatiquement :</h6>
                <ul>
                    <li><strong>Nom de table</strong> ‚Üí <code>Product</code> devient <code>Products</code> (pluriel)</li>
                    <li><strong>Cl√© primaire</strong> ‚Üí <code>Id</code> devient <code>PRIMARY KEY IDENTITY</code></li>
                    <li><strong>Types de donn√©es</strong> ‚Üí Chaque type C# a son √©quivalent SQL optimal</li>
                    <li><strong>Nullable/Non-nullable</strong> ‚Üí <code>string</code> = nullable, <code>int</code> = non-nullable</li>
                    <li><strong>Cl√© √©trang√®re</strong> ‚Üí <code>CategoryId</code> + <code>Category</code> = relation automatique</li>
                    <li><strong>Relations</strong> ‚Üí <code>ICollection&lt;OrderItem&gt;</code> = relation One-to-Many</li>
                </ul>
            </div>

            <h3><i class="fas fa-brain me-2"></i>Comment Entity Framework "Devine" les Relations</h3>

            <div class="row">
                <div class="col-md-6">
                    <div class="highlight-box">
                        <h6><i class="fas fa-arrow-right me-2"></i>Relation One-to-Many</h6>
                        <div class="code-block">
                            <pre><code class="language-csharp">public class Category
{
    public int Id { get; set; }
    public string Name { get; set; }
    
    // Collection = "Many"
    // Une cat√©gorie a plusieurs produits
    public ICollection&lt;Product&gt; Products { get; set; }
}

public class Product  
{
    public int Id { get; set; }
    public string Name { get; set; }
    
    // Cl√© √©trang√®re
    public int CategoryId { get; set; }
    
    // Navigation = "One"  
    // Un produit a une cat√©gorie
    public Category Category { get; set; }
}</code></pre>
                        </div>
                        <p class="small text-muted mb-0">
                            <strong>EF comprend :</strong> Category (1) ‚Üî Products (Many)
                        </p>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="highlight-box">
                        <h6><i class="fas fa-arrows-alt-h me-2"></i>Relation Many-to-Many</h6>
                        <div class="code-block">
                            <pre><code class="language-csharp">public class Student
{
    public int Id { get; set; }
    public string Name { get; set; }
    
    // Collection = "Many"
    // Un √©tudiant a plusieurs cours
    public ICollection&lt;Course&gt; Courses { get; set; }
}

public class Course
{
    public int Id { get; set; }
    public string Title { get; set; }
    
    // Collection = "Many"
    // Un cours a plusieurs √©tudiants  
    public ICollection&lt;Student&gt; Students { get; set; }
}</code></pre>
                        </div>
                        <p class="small text-muted mb-0">
                            <strong>EF comprend :</strong> Students (Many) ‚Üî Courses (Many)
                        </p>
                    </div>
                </div>
            </div>

            <h3><i class="fas fa-lightbulb me-2"></i>Exemple Pratique : Cr√©ons un Mod√®le Complet</h3>

            <p>Cr√©ons ensemble un mod√®le simple pour une biblioth√®que, en utilisant UNIQUEMENT les conventions :</p>

            <div class="code-block">
                <pre><code class="language-csharp">// Mod√®le complet utilisant uniquement les conventions EF
// Aucune annotation, aucune configuration !

public class Author
{
    public int Id { get; set; }              // PK auto
    public string FirstName { get; set; }    // NVARCHAR(MAX) NULL
    public string LastName { get; set; }     // NVARCHAR(MAX) NULL
    public DateTime BirthDate { get; set; }  // DATETIME2(7) NOT NULL
    
    // Un auteur peut √©crire plusieurs livres
    public ICollection&lt;Book&gt; Books { get; set; }
}

public class Book  
{
    public int Id { get; set; }              // PK auto
    public string Title { get; set; }        // NVARCHAR(MAX) NULL
    public string ISBN { get; set; }         // NVARCHAR(MAX) NULL
    public DateTime PublishedDate { get; set; } // DATETIME2(7) NOT NULL
    public decimal Price { get; set; }       // DECIMAL(18,2) NOT NULL
    public bool IsAvailable { get; set; }    // BIT NOT NULL
    
    // Relation avec Author
    public int AuthorId { get; set; }        // FK NOT NULL
    public Author Author { get; set; }       // Navigation property
    
    // Un livre peut avoir plusieurs emprunts
    public ICollection&lt;Loan&gt; Loans { get; set; }
}

public class Member
{
    public int Id { get; set; }              // PK auto
    public string FirstName { get; set; }    // NVARCHAR(MAX) NULL
    public string LastName { get; set; }     // NVARCHAR(MAX) NULL
    public string Email { get; set; }        // NVARCHAR(MAX) NULL
    public DateTime JoinDate { get; set; }   // DATETIME2(7) NOT NULL
    
    // Un membre peut avoir plusieurs emprunts
    public ICollection&lt;Loan&gt; Loans { get; set; }
}

public class Loan
{
    public int Id { get; set; }              // PK auto
    public DateTime LoanDate { get; set; }   // DATETIME2(7) NOT NULL
    public DateTime? ReturnDate { get; set; } // DATETIME2(7) NULL (nullable)
    public bool IsReturned { get; set; }     // BIT NOT NULL
    
    // Relations
    public int BookId { get; set; }          // FK vers Book
    public Book Book { get; set; }
    
    public int MemberId { get; set; }        // FK vers Member  
    public Member Member { get; set; }
}</code></pre>
            </div>

            <div class="warning-box">
                <h6><i class="fas fa-database me-2"></i>Tables SQL G√©n√©r√©es Automatiquement</h6>
                <p>Avec ces 4 classes simples, Entity Framework va cr√©er :</p>
                <ul>
                    <li><strong>4 tables</strong> : Authors, Books, Members, Loans</li>
                    <li><strong>4 cl√©s primaires</strong> : toutes auto-incr√©ment√©es</li>
                    <li><strong>3 cl√©s √©trang√®res</strong> : AuthorId dans Books, BookId et MemberId dans Loans</li>
                    <li><strong>Tous les types de donn√©es</strong> : string ‚Üí NVARCHAR(MAX), int ‚Üí INT, etc.</li>
                    <li><strong>Toutes les contraintes</strong> : NOT NULL pour les types valeur, NULL pour les r√©f√©rences</li>
                </ul>
                <p class="mb-0">
                    <strong>R√©sultat :</strong> Une base de donn√©es compl√®te et fonctionnelle, 
                    sans une seule ligne de configuration !
                </p>
            </div>

            <h3><i class="fas fa-question-circle me-2"></i>Quand les Conventions Suffisent-elles ?</h3>

            <div class="row">
                <div class="col-md-6">
                    <div class="highlight-box">
                        <h6><i class="fas fa-check-circle me-2 text-success"></i>Les conventions sont parfaites pour :</h6>
                        <ul class="mb-0">
                            <li>Prototypes rapides</li>
                            <li>Applications simples</li>
                            <li>Premiers projets Entity Framework</li>
                            <li>Mod√®les avec des noms standards</li>
                            <li>Relations simples One-to-Many</li>
                            <li>D√©veloppement rapide</li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="warning-box">
                        <h6><i class="fas fa-cogs me-2 text-warning"></i>Vous aurez besoin de configuration pour :</h6>
                        <ul class="mb-0">
                            <li>Noms de tables/colonnes sp√©cifiques</li>
                            <li>Longueurs de cha√Ænes limit√©es</li>
                            <li>Contraintes m√©tier (prix > 0)</li>
                            <li>Index personnalis√©s</li>
                            <li>Relations complexes Many-to-Many</li>
                            <li>Compatibilit√© avec bases existantes</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="highlight-box">
                <h6><i class="fas fa-graduation-cap me-2"></i>Conseil pour D√©butants</h6>
                <p class="mb-0">
                    <strong>Commencez TOUJOURS par les conventions !</strong> 
                    √âcrivez vos classes simplement, laissez EF faire sa magie, 
                    et n'ajoutez de la configuration que quand vous en avez vraiment besoin. 
                    C'est plus facile √† comprendre et √† maintenir.
                </p>
            </div>
        </div>

        <!-- Section 3: Data Annotations expliqu√©es pour super d√©butants -->
        <div class="content-section">
            <h2 class="section-title">
                <i class="fas fa-tags"></i>
                Configuration avec Data Annotations (Guide Complet pour D√©butants)
            </h2>

            <h3><i class="fas fa-question-circle me-2"></i>Qu'est-ce que les Data Annotations ?</h3>

            <div class="highlight-box">
                <h5><i class="fas fa-lightbulb me-2"></i>Analogie Simple</h5>
                <p>
                    Imaginez que vous organisez votre biblioth√®que personnelle. Sur chaque livre, 
                    vous collez des petites √©tiquettes :
                </p>
                <ul>
                    <li>üìö "OBLIGATOIRE" ‚Üí Ce livre doit absolument √™tre lu</li>
                    <li>üìè "MAX 300 pages" ‚Üí Limite de taille</li>
                    <li>üè∑Ô∏è "Fantastique" ‚Üí Cat√©gorie du livre</li>
                    <li>‚ö†Ô∏è "Fragile" ‚Üí Manipulation sp√©ciale</li>
                </ul>
                <p class="mb-0">
                    <strong>Les Data Annotations fonctionnent exactement pareil !</strong> 
                    Ce sont des "√©tiquettes" que vous collez sur vos propri√©t√©s C# pour dire 
                    √† Entity Framework comment les traiter dans la base de donn√©es.
                </p>
            </div>

            <div class="warning-box">
                <h6><i class="fas fa-magic me-2"></i>Pourquoi utiliser les Data Annotations ?</h6>
                <p>
                    Les conventions par d√©faut sont parfaites, mais parfois vous voulez :
                </p>
                <ul>
                    <li><strong>Contr√¥ler les noms</strong> ‚Üí Table "Produits" au lieu de "Products"</li>
                    <li><strong>Limiter les tailles</strong> ‚Üí Nom maximum 50 caract√®res</li>
                    <li><strong>Rendre obligatoire</strong> ‚Üí Email ne peut pas √™tre vide</li>
                    <li><strong>Ajouter des contraintes</strong> ‚Üí Prix doit √™tre positif</li>
                </ul>
                <p class="mb-0">
                    Les Data Annotations vous permettent de faire tout √ßa directement 
                    sur vos classes, de mani√®re tr√®s lisible !
                </p>
            </div>

            <h3><i class="fas fa-step-forward me-2"></i>Progression d'Apprentissage : Du Simple au Complexe</h3>

            <h4>Niveau 1 : Les Annotations de Base (Super Faciles)</h4>

            <div class="annotation-example">
                <h6><i class="fas fa-baby me-2"></i>Exemple Super Simple</h6>
                <div class="code-block">
                    <pre><code class="language-csharp">using System.ComponentModel.DataAnnotations;

public class Product
{
    public int Id { get; set; }
    
    // [Required] = Cette propri√©t√© ne peut pas √™tre NULL
    [Required]
    public string Name { get; set; }
    
    // [StringLength(100)] = Maximum 100 caract√®res
    [StringLength(100)]
    public string Description { get; set; }
    
    public decimal Price { get; set; }
}</code></pre>
                </div>

                <div class="highlight-box">
                    <h6><i class="fas fa-arrow-right me-2"></i>Ce qui change dans la base de donn√©es :</h6>
                    <ul class="mb-0">
                        <li><code>Name</code> ‚Üí <code>Name NVARCHAR(MAX) NOT NULL</code> (obligatoire !)</li>
                        <li><code>Description</code> ‚Üí <code>Description NVARCHAR(100) NULL</code> (limit√© √† 100 caract√®res)</li>
                        <li><code>Price</code> ‚Üí <code>Price DECIMAL(18,2) NOT NULL</code> (inchang√©, convention par d√©faut)</li>
                    </ul>
                </div>
            </div>

            <h4>Niveau 2 : Contr√¥ler les Noms et Types</h4>

            <div class="annotation-example">
                <h6><i class="fas fa-tags me-2"></i>Personnaliser les Noms</h6>
                <div class="code-block">
                    <pre><code class="language-csharp">using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

// [Table("Produits")] = La table s'appellera "Produits" au lieu de "Products"
[Table("Produits")]
public class Product
{
    public int Id { get; set; }
    
    [Required]
    [StringLength(50)]
    // [Column("NomProduit")] = La colonne s'appellera "NomProduit" au lieu de "Name"
    [Column("NomProduit")]
    public string Name { get; set; }
    
    [StringLength(500)]
    [Column("DescriptionProduit")]
    public string Description { get; set; }
    
    // [Column(TypeName = "decimal(10,2)")] = Pr√©cision personnalis√©e
    [Column(TypeName = "decimal(10,2)")]
    public decimal Price { get; set; }
}</code></pre>
                </div>

                <div class="highlight-box">
                    <h6><i class="fas fa-database me-2"></i>Table SQL g√©n√©r√©e :</h6>
                    <div class="code-block">
                        <pre><code class="language-sql">CREATE TABLE Produits (
    Id INT IDENTITY(1,1) PRIMARY KEY,
    NomProduit NVARCHAR(50) NOT NULL,
    DescriptionProduit NVARCHAR(500) NULL,
    Price DECIMAL(10,2) NOT NULL
);</code></pre>
                    </div>
                </div>
            </div>

            <h4>Niveau 3 : Cl√©s Primaires et √âtrang√®res Personnalis√©es</h4>

            <div class="annotation-example">
                <h6><i class="fas fa-key me-2"></i>G√©rer les Cl√©s</h6>
                <div class="code-block">
                    <pre><code class="language-csharp">using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

public class Product
{
    // [Key] = Cl√© primaire explicite (utile si la propri√©t√© ne s'appelle pas "Id")
    [Key]
    [DatabaseGenerated(DatabaseGeneratedOption.Identity)] // Auto-incr√©ment√©
    public int ProductId { get; set; }
    
    [Required]
    [StringLength(100)]
    public string Name { get; set; }
    
    public decimal Price { get; set; }
    
    // Cl√© √©trang√®re vers Category
    public int CategoryId { get; set; }
    
    // [ForeignKey("CategoryId")] = Indique explicitement la cl√© √©trang√®re
    [ForeignKey("CategoryId")]
    public Category Category { get; set; }
}</code></pre>
                </div>

                <div class="warning-box">
                    <h6><i class="fas fa-info-circle me-2"></i>Explication des Options de G√©n√©ration</h6>
                    <ul class="mb-0">
                        <li><code>DatabaseGeneratedOption.Identity</code> ‚Üí Auto-incr√©ment√© (1, 2, 3, 4...)</li>
                        <li><code>DatabaseGeneratedOption.Computed</code> ‚Üí Calcul√© par la base (ex: date de cr√©ation)</li>
                        <li><code>DatabaseGeneratedOption.None</code> ‚Üí Vous devez fournir la valeur</li>
                    </ul>
                </div>
            </div>

            <h4>Niveau 4 : Validation et Contraintes M√©tier</h4>

            <div class="annotation-example">
                <h6><i class="fas fa-shield-alt me-2"></i>Ajouter des Validations</h6>
                <div class="code-block">
                    <pre><code class="language-csharp">using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

public class Product
{
    public int Id { get; set; }
    
    [Required(ErrorMessage = "Le nom du produit est obligatoire")]
    [StringLength(100, MinimumLength = 2, 
        ErrorMessage = "Le nom doit contenir entre 2 et 100 caract√®res")]
    public string Name { get; set; }
    
    [StringLength(1000)]
    public string Description { get; set; }
    
    // [Range] = Le prix doit √™tre entre 0.01 et 99999.99
    [Range(0.01, 99999.99, 
        ErrorMessage = "Le prix doit √™tre entre 0.01 et 99999.99")]
    [Column(TypeName = "decimal(18,2)")]
    public decimal Price { get; set; }
    
    // [Range] pour les entiers aussi
    [Range(0, int.MaxValue, 
        ErrorMessage = "Le stock ne peut pas √™tre n√©gatif")]
    public int Stock { get; set; }
    
    // Validation d'email
    [Required]
    [EmailAddress(ErrorMessage = "Format d'email invalide")]
    [StringLength(100)]
    public string ContactEmail { get; set; }
    
    // Validation d'URL
    [Url(ErrorMessage = "URL invalide")]
    public string WebsiteUrl { get; set; }
}</code></pre>
                </div>

                <div class="highlight-box">
                    <h6><i class="fas fa-check-circle me-2"></i>Types de Validation Disponibles</h6>
                    <div class="row">
                        <div class="col-md-6">
                            <ul>
                                <li><code>[Required]</code> ‚Üí Obligatoire</li>
                                <li><code>[StringLength(max)]</code> ‚Üí Longueur max</li>
                                <li><code>[Range(min, max)]</code> ‚Üí Plage de valeurs</li>
                                <li><code>[EmailAddress]</code> ‚Üí Format email</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <ul>
                                <li><code>[Url]</code> ‚Üí Format URL</li>
                                <li><code>[Phone]</code> ‚Üí Format t√©l√©phone</li>
                                <li><code>[RegularExpression]</code> ‚Üí Pattern personnalis√©</li>
                                <li><code>[Compare]</code> ‚Üí Comparer avec autre propri√©t√©</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <h4>Niveau 5 : Propri√©t√©s Sp√©ciales et Avanc√©es</h4>

            <div class="annotation-example">
                <h6><i class="fas fa-cogs me-2"></i>Fonctionnalit√©s Avanc√©es</h6>
                <div class="code-block">
                    <pre><code class="language-csharp">using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

public class Product
{
    public int Id { get; set; }
    
    [Required]
    [StringLength(100)]
    public string Name { get; set; }
    
    [Column(TypeName = "decimal(18,2)")]
    public decimal Price { get; set; }
    
    public int Stock { get; set; }
    
    // [NotMapped] = Cette propri√©t√© N'EXISTE PAS dans la base de donn√©es
    // C'est une propri√©t√© calcul√©e uniquement en C#
    [NotMapped]
    public decimal TotalValue => Price * Stock;
    
    // [NotMapped] pour des propri√©t√©s complexes
    [NotMapped]
    public string DisplayName => $"{Name} - {Price:C}";
    
    // [Timestamp] = Colonne de versioning pour la concurrence optimiste
    // Se met √† jour automatiquement √† chaque modification
    [Timestamp]
    public byte[] RowVersion { get; set; }
    
    // Propri√©t√© avec valeur par d√©faut
    [DatabaseGenerated(DatabaseGeneratedOption.Computed)]
    [Column(TypeName = "datetime2")]
    public DateTime CreatedAt { get; set; }
    
    // [Display] = Utilis√© par les interfaces utilisateur (MVC, Blazor)
    [Display(Name = "Date de cr√©ation", 
             Description = "Date √† laquelle le produit a √©t√© cr√©√©")]
    public DateTime CreationDate { get; set; }
}</code></pre>
                </div>

                <div class="warning-box">
                    <h6><i class="fas fa-exclamation-triangle me-2"></i>Attention aux Propri√©t√©s [NotMapped]</h6>
                    <ul class="mb-0">
                        <li><strong>[NotMapped]</strong> = La propri√©t√© existe en C# mais PAS en base de donn√©es</li>
                        <li><strong>Utilisez-le pour</strong> : propri√©t√©s calcul√©es, formatage, logique m√©tier</li>
                        <li><strong>Attention</strong> : Ces propri√©t√©s ne sont pas sauvegard√©es ni recherchables en base</li>
                    </ul>
                </div>
            </div>

            <h3><i class="fas fa-list-ul me-2"></i>R√©f√©rence Compl√®te des Data Annotations</h3>

            <div class="table-responsive">
                <table class="table table-striped conventions-table">
                    <thead>
                        <tr>
                            <th style="width: 25%;">Annotation</th>
                            <th style="width: 35%;">Description</th>
                            <th style="width: 40%;">Exemple</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>[Key]</strong></td>
                            <td>D√©finit la cl√© primaire</td>
                            <td><code>[Key] public int ProductId { get; set; }</code></td>
                        </tr>
                        <tr>
                            <td><strong>[Required]</strong></td>
                            <td>Champ obligatoire (NOT NULL)</td>
                            <td><code>[Required] public string Name { get; set; }</code></td>
                        </tr>
                        <tr>
                            <td><strong>[StringLength(n)]</strong></td>
                            <td>Longueur maximum de cha√Æne</td>
                            <td><code>[StringLength(100)] public string Name { get; set; }</code></td>
                        </tr>
                        <tr>
                            <td><strong>[MaxLength(n)]</strong></td>
                            <td>Longueur maximum (cha√Ænes et tableaux)</td>
                            <td><code>[MaxLength(50)] public string Code { get; set; }</code></td>
                        </tr>
                        <tr>
                            <td><strong>[Column("name")]</strong></td>
                            <td>Nom de colonne personnalis√©</td>
                            <td><code>[Column("ProductName")] public string Name { get; set; }</code></td>
                        </tr>
                        <tr>
                            <td><strong>[Table("name")]</strong></td>
                            <td>Nom de table personnalis√©</td>
                            <td><code>[Table("Produits")] public class Product</code></td>
                        </tr>
                        <tr>
                            <td><strong>[ForeignKey("prop")]</strong></td>
                            <td>D√©finit la cl√© √©trang√®re</td>
                            <td><code>[ForeignKey("CategoryId")] public Category Category { get; set; }</code></td>
                        </tr>
                        <tr>
                            <td><strong>[NotMapped]</strong></td>
                            <td>Propri√©t√© ignor√©e par EF</td>
                            <td><code>[NotMapped] public string FullName => $"{FirstName} {LastName}";</code></td>
                        </tr>
                        <tr>
                            <td><strong>[Timestamp]</strong></td>
                            <td>Colonne de concurrence optimiste</td>
                            <td><code>[Timestamp] public byte[] RowVersion { get; set; }</code></td>
                        </tr>
                        <tr>
                            <td><strong>[Range(min, max)]</strong></td>
                            <td>Plage de valeurs autoris√©es</td>
                            <td><code>[Range(0.01, 999.99)] public decimal Price { get; set; }</code></td>
                        </tr>
                        <tr>
                            <td><strong>[EmailAddress]</strong></td>
                            <td>Validation format email</td>
                            <td><code>[EmailAddress] public string Email { get; set; }</code></td>
                        </tr>
                        <tr>
                            <td><strong>[Display(Name = "")]</strong></td>
                            <td>Nom d'affichage pour l'UI</td>
                            <td><code>[Display(Name = "Prix unitaire")] public decimal Price { get; set; }</code></td>
                        </tr>
                        <tr>
                            <td><strong>[DatabaseGenerated]</strong></td>
                            <td>Mode de g√©n√©ration de valeur</td>
                            <td><code>[DatabaseGenerated(DatabaseGeneratedOption.Identity)]</code></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3><i class="fas fa-lightbulb me-2"></i>Exemple Complet : Mod√®le E-commerce avec Data Annotations</h3>

            <div class="annotation-example">
                <h6><i class="fas fa-store me-2"></i>Mod√®le Complet et R√©aliste</h6>
                <div class="code-block">
                    <pre><code class="language-csharp">using System.ComponentModel.DataAnnotations;
using System.ComponentModel.DataAnnotations.Schema;

[Table("Categories")]
public class Category
{
    [Key]
    public int Id { get; set; }
    
    [Required(ErrorMessage = "Le nom de la cat√©gorie est obligatoire")]
    [StringLength(50, MinimumLength = 2)]
    [Column("CategoryName")]
    public string Name { get; set; }
    
    [StringLength(200)]
    public string Description { get; set; }
    
    [Display(Name = "Date de cr√©ation")]
    [DatabaseGenerated(DatabaseGeneratedOption.Computed)]
    public DateTime CreatedAt { get; set; }
    
    // Navigation property
    public virtual ICollection&lt;Product&gt; Products { get; set; }
}

[Table("Products")]
public class Product
{
    [Key]
    public int Id { get; set; }
    
    [Required(ErrorMessage = "Le nom du produit est obligatoire")]
    [StringLength(100, MinimumLength = 2, 
        ErrorMessage = "Le nom doit contenir entre 2 et 100 caract√®res")]
    [Display(Name = "Nom du produit")]
    public string Name { get; set; }
    
    [StringLength(1000)]
    [Display(Name = "Description")]
    public string Description { get; set; }
    
    [Required]
    [Range(0.01, 99999.99, ErrorMessage = "Le prix doit √™tre positif")]
    [Column(TypeName = "decimal(18,2)")]
    [Display(Name = "Prix unitaire")]
    public decimal Price { get; set; }
    
    [Range(0, int.MaxValue, ErrorMessage = "Le stock ne peut pas √™tre n√©gatif")]
    [Display(Name = "Stock disponible")]
    public int Stock { get; set; }
    
    [Display(Name = "Produit actif")]
    public bool IsActive { get; set; } = true;
    
    [StringLength(13, MinimumLength = 10)]
    [Display(Name = "Code-barres")]
    public string Barcode { get; set; }
    
    [Url(ErrorMessage = "URL invalide")]
    [Display(Name = "Image du produit")]
    public string ImageUrl { get; set; }
    
    // Propri√©t√©s calcul√©es (pas en base de donn√©es)
    [NotMapped]
    [Display(Name = "Valeur totale du stock")]
    public decimal TotalStockValue => Price * Stock;
    
    [NotMapped]
    [Display(Name = "En stock")]
    public bool InStock => Stock > 0;
    
    [NotMapped]
    [Display(Name = "Nom complet")]
    public string DisplayName => $"{Name} - {Price:C}";
    
    // Relations
    [Required]
    [Display(Name = "Cat√©gorie")]
    public int CategoryId { get; set; }
    
    [ForeignKey("CategoryId")]
    public virtual Category Category { get; set; }
    
    // Versioning pour concurrence optimiste
    [Timestamp]
    public byte[] RowVersion { get; set; }
    
    [DatabaseGenerated(DatabaseGeneratedOption.Computed)]
    [Display(Name = "Date de cr√©ation")]
    public DateTime CreatedAt { get; set; }
    
    [Display(Name = "Date de modification")]
    public DateTime? ModifiedAt { get; set; }
}</code></pre>
                </div>
            </div>

            <div class="highlight-box">
                <h6><i class="fas fa-graduation-cap me-2"></i>Bonnes Pratiques avec les Data Annotations</h6>
                <ul class="mb-0">
                    <li><strong>Commencez simple</strong> ‚Üí [Required] et [StringLength] suffisent souvent</li>
                    <li><strong>Messages d'erreur clairs</strong> ‚Üí Toujours en fran√ßais pour les utilisateurs</li>
                    <li><strong>[Display(Name = "")]</strong> ‚Üí Noms conviviaux pour l'interface utilisateur</li>
                    <li><strong>[NotMapped]</strong> ‚Üí Pour les propri√©t√©s calcul√©es uniquement</li>
                    <li><strong>Validation m√©tier</strong> ‚Üí [Range] pour les contraintes business</li>
                    <li><strong>Coh√©rence</strong> ‚Üí M√™me style d'annotations dans tout le projet</li>
                </ul>
            </div>
        </div>

        <!-- Section 4: Fluent API -->
        <div class="content-section">
            <h2 class="section-title">
                <i class="fas fa-code-branch"></i>
                Configuration avec Fluent API
            </h2>

            <p>La Fluent API offre une configuration plus puissante et flexible que les Data Annotations :</p>

            <div class="fluent-example">
                <h5><i class="fas fa-code me-2"></i>Configuration dans OnModelCreating</h5>
                <div class="code-block">
                    <pre><code class="language-csharp">public class ECommerceContext : DbContext
{
    public DbSet&lt;Product&gt; Products { get; set; }
    public DbSet&lt;Category&gt; Categories { get; set; }
    public DbSet&lt;Order&gt; Orders { get; set; }

    protected override void OnModelCreating(ModelBuilder modelBuilder)
    {
        // Configuration de l'entit√© Product
        modelBuilder.Entity&lt;Product&gt;(entity =>
        {
            // Table et cl√© primaire
            entity.ToTable("Products");
            entity.HasKey(p => p.Id);
            
            // Propri√©t√©s
            entity.Property(p => p.Name)
                .IsRequired()
                .HasMaxLength(100)
                .HasColumnName("ProductName");
                
            entity.Property(p => p.Description)
                .HasMaxLength(500)
                .IsUnicode(true);
                
            entity.Property(p => p.Price)
                .HasColumnType("decimal(18,2)")
                .HasPrecision(18, 2);
                
            entity.Property(p => p.CreatedDate)
                .HasDefaultValueSql("GETDATE()");
                
            // Index
            entity.HasIndex(p => p.Name)
                .IsUnique()
                .HasDatabaseName("IX_Product_Name");
                
            // Relations
            entity.HasOne(p => p.Category)
                .WithMany(c => c.Products)
                .HasForeignKey(p => p.CategoryId)
                .OnDelete(DeleteBehavior.Restrict);
        });

        // Configuration de Category
        modelBuilder.Entity&lt;Category&gt;(entity =>
        {
            entity.ToTable("Categories");
            entity.HasKey(c => c.Id);
            
            entity.Property(c => c.Name)
                .IsRequired()
                .HasMaxLength(50);
        });
    }
}</code></pre>
                </div>
            </div>

            <h4>Avantages de la Fluent API</h4>
            <div class="row">
                <div class="col-md-6">
                    <div class="highlight-box">
                        <h6><i class="fas fa-plus-circle me-2 text-success"></i>Plus puissante</h6>
                        <ul class="mb-0">
                            <li>Configuration complexe des relations</li>
                            <li>Contraintes avanc√©es</li>
                            <li>Configuration conditionnelle</li>
                            <li>S√©paration des pr√©occupations</li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="highlight-box">
                        <h6><i class="fas fa-cog me-2 text-info"></i>Plus flexible</h6>
                        <ul class="mb-0">
                            <li>Configuration centralis√©e</li>
                            <li>R√©utilisation de configurations</li>
                            <li>Configuration par environnement</li>
                            <li>IntelliSense complet</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 5: Relations complexes -->
        <div class="content-section">
            <h2 class="section-title">
                <i class="fas fa-project-diagram"></i>
                Configuration des Relations Complexes
            </h2>

            <h4>1. Relation Many-to-Many avec entit√© de jointure</h4>
            <div class="code-block">
                <pre><code class="language-csharp">// Mod√®les
public class Student
{
    public int Id { get; set; }
    public string Name { get; set; }
    public ICollection&lt;StudentCourse&gt; StudentCourses { get; set; }
}

public class Course
{
    public int Id { get; set; }
    public string Title { get; set; }
    public ICollection&lt;StudentCourse&gt; StudentCourses { get; set; }
}

public class StudentCourse
{
    public int StudentId { get; set; }
    public Student Student { get; set; }
    
    public int CourseId { get; set; }
    public Course Course { get; set; }
    
    public DateTime EnrollmentDate { get; set; }
    public decimal Grade { get; set; }
}

// Configuration Fluent API
protected override void OnModelCreating(ModelBuilder modelBuilder)
{
    modelBuilder.Entity&lt;StudentCourse&gt;()
        .HasKey(sc => new { sc.StudentId, sc.CourseId }); // Cl√© composite
        
    modelBuilder.Entity&lt;StudentCourse&gt;()
        .HasOne(sc => sc.Student)
        .WithMany(s => s.StudentCourses)
        .HasForeignKey(sc => sc.StudentId);
        
    modelBuilder.Entity&lt;StudentCourse&gt;()
        .HasOne(sc => sc.Course)
        .WithMany(c => c.StudentCourses)
        .HasForeignKey(sc => sc.CourseId);
}</code></pre>
            </div>

            <h4>2. Relation One-to-One</h4>
            <div class="code-block">
                <pre><code class="language-csharp">public class User
{
    public int Id { get; set; }
    public string Email { get; set; }
    public UserProfile Profile { get; set; }
}

public class UserProfile
{
    public int Id { get; set; }
    public string FirstName { get; set; }
    public string LastName { get; set; }
    public DateTime BirthDate { get; set; }
    
    public int UserId { get; set; }
    public User User { get; set; }
}

// Configuration
modelBuilder.Entity&lt;User&gt;()
    .HasOne(u => u.Profile)
    .WithOne(p => p.User)
    .HasForeignKey&lt;UserProfile&gt;(p => p.UserId);</code></pre>
            </div>

            <h4>3. H√©ritage Table Per Hierarchy (TPH)</h4>
            <div class="code-block">
                <pre><code class="language-csharp">public abstract class Person
{
    public int Id { get; set; }
    public string Name { get; set; }
}

public class Student : Person
{
    public string StudentNumber { get; set; }
}

public class Teacher : Person
{
    public string Department { get; set; }
}

// Configuration
modelBuilder.Entity&lt;Person&gt;()
    .HasDiscriminator&lt;string&gt;("PersonType")
    .HasValue&lt;Student&gt;("Student")
    .HasValue&lt;Teacher&gt;("Teacher");</code></pre>
            </div>
        </div>

        <!-- Section 6: Cr√©ation de la base de donn√©es -->
        <div class="content-section">
            <h2 class="section-title">
                <i class="fas fa-database"></i>
                Cr√©ation de la Base de Donn√©es
            </h2>

            <h4>M√©thodes de cr√©ation</h4>

            <div class="row">
                <div class="col-md-6">
                    <div class="highlight-box">
                        <h6><i class="fas fa-magic me-2"></i>EnsureCreated() - Simple</h6>
                        <div class="code-block">
                            <pre><code class="language-csharp">using var context = new ECommerceContext();

// Cr√©e la base si elle n'existe pas
await context.Database.EnsureCreatedAsync();

// Supprime la base si elle existe
await context.Database.EnsureDeletedAsync();</code></pre>
                        </div>
                        <p class="small text-muted">Id√©al pour les tests et prototypes</p>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="highlight-box">
                        <h6><i class="fas fa-code-branch me-2"></i>Migrations - Production</h6>
                        <div class="code-block">
                            <pre><code class="language-bash"># Cr√©er une migration
dotnet ef migrations add InitialCreate

# Appliquer les migrations
dotnet ef database update</code></pre>
                        </div>
                        <p class="small text-muted">Recommand√© pour la production</p>
                    </div>
                </div>
            </div>

            <h4>Exemple complet d'application Code First</h4>
            <div class="code-block">
                <pre><code class="language-csharp">// Program.cs
using Microsoft.EntityFrameworkCore;

var builder = WebApplication.CreateBuilder(args);

// Configuration du DbContext
builder.Services.AddDbContext&lt;ECommerceContext&gt;(options =>
    options.UseSqlServer(builder.Configuration.GetConnectionString("DefaultConnection")));

var app = builder.Build();

// Cr√©ation de la base de donn√©es au d√©marrage (d√©veloppement uniquement)
using (var scope = app.Services.CreateScope())
{
    var context = scope.ServiceProvider.GetRequiredService&lt;ECommerceContext&gt;();
    await context.Database.EnsureCreatedAsync();
    
    // Seed data optionnel
    if (!context.Categories.Any())
    {
        context.Categories.AddRange(
            new Category { Name = "√âlectronique" },
            new Category { Name = "V√™tements" }
        );
        await context.SaveChangesAsync();
    }
}

app.Run();</code></pre>
            </div>
        </div>

        <!-- Section 7: Exercices pratiques -->
        <div class="content-section">
            <h2 class="section-title">
                <i class="fas fa-dumbbell"></i>
                Exercices Pratiques
            </h2>

            <div class="exercise-box">
                <h5 class="exercise-title">
                    <i class="fas fa-pencil-alt me-2"></i>
                    Exercice 1 : Premier projet Code First
                </h5>
                <p><strong>Objectif :</strong> Cr√©er une application Code First simple</p>
                <ol>
                    <li>Cr√©ez un nouveau projet console</li>
                    <li>D√©finissez les classes Product et Category</li>
                    <li>Cr√©ez un DbContext avec les conventions par d√©faut</li>
                    <li>Testez la cr√©ation de base de donn√©es avec EnsureCreated()</li>
                </ol>
            </div>

            <div class="exercise-box">
                <h5 class="exercise-title">
                    <i class="fas fa-pencil-alt me-2"></i>
                    Exercice 2 : Configuration avec Data Annotations
                </h5>
                <p><strong>Objectif :</strong> Ma√Ætriser les Data Annotations</p>
                <ol>
                    <li>Reprenez le projet pr√©c√©dent</li>
                    <li>Ajoutez des contraintes avec Data Annotations</li>
                    <li>Configurez les longueurs de cha√Ænes, les types de colonnes</li>
                    <li>Ajoutez des propri√©t√©s calcul√©es avec [NotMapped]</li>
                </ol>
            </div>

            <div class="exercise-box">
                <h5 class="exercise-title">
                    <i class="fas fa-pencil-alt me-2"></i>
                    Exercice 3 : Configuration Fluent API avanc√©e
                </h5>
                <p><strong>Objectif :</strong> Utiliser la Fluent API pour des configurations complexes</p>
                <ol>
                    <li>Cr√©ez un syst√®me de blog avec Post, Author, Tag</li>
                    <li>Configurez une relation Many-to-Many entre Post et Tag</li>
                    <li>Utilisez uniquement la Fluent API (pas d'annotations)</li>
                    <li>Ajoutez des index et contraintes personnalis√©es</li>
                </ol>
            </div>

            <div class="exercise-box">
                <h5 class="exercise-title">
                    <i class="fas fa-pencil-alt me-2"></i>
                    Exercice 4 : Projet e-commerce complet
                </h5>
                <p><strong>Objectif :</strong> D√©velopper un mod√®le e-commerce complet</p>
                <ol>
                    <li>Mod√©lisez : Product, Category, Customer, Order, OrderItem</li>
                    <li>Configurez toutes les relations avec Fluent API</li>
                    <li>Ajoutez des contraintes m√©tier (prix positif, stock >= 0)</li>
                    <li>Impl√©mentez des m√©thodes de service pour les op√©rations CRUD</li>
                </ol>
            </div>
        </div>

        <!-- Section 8: Bonnes pratiques -->
        <div class="content-section">
            <h2 class="section-title">
                <i class="fas fa-star"></i>
                Bonnes Pratiques Code First
            </h2>

            <div class="row">
                <div class="col-md-6">
                    <div class="highlight-box">
                        <h6><i class="fas fa-check-circle me-2 text-success"></i>√Ä faire</h6>
                        <ul class="mb-0">
                            <li>Utilisez des migrations en production</li>
                            <li>Pr√©f√©rez Fluent API pour configurations complexes</li>
                            <li>S√©parez la configuration dans des classes</li>
                            <li>Utilisez des conventions de nommage coh√©rentes</li>
                            <li>Validez vos mod√®les avec des tests</li>
                            <li>Documentez les relations complexes</li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="warning-box">
                        <h6><i class="fas fa-times-circle me-2 text-danger"></i>√Ä √©viter</h6>
                        <ul class="mb-0">
                            <li>EnsureCreated() en production</li>
                            <li>M√©langer annotations et Fluent API</li>
                            <li>Configurations trop complexes dans OnModelCreating</li>
                            <li>Ignorer les conventions EF</li>
                            <li>Relations circulaires non g√©r√©es</li>
                            <li>Mod√®les an√©miques sans logique m√©tier</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <div class="navigation-buttons">
            <a href="module-3-database-first.html" class="btn-nav">
                <i class="fas fa-arrow-left me-2"></i>
                Module pr√©c√©dent
            </a>
            <a href="module-5-migrations.html" class="btn-nav">
                Module suivant
                <i class="fas fa-arrow-right ms-2"></i>
            </a>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Prism.js pour la coloration syntaxique -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
</body>
</html>
