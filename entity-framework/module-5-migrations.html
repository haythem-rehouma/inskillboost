<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 5 - Migrations Entity Framework</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Prism.js pour la coloration syntaxique -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #512BD4;
            --secondary-color: #239B56;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --info-color: #17a2b8;
            --dark-color: #343a40;
            --light-bg: #f8f9fa;
            --border-color: #dee2e6;
            --text-muted: #6c757d;
            --ef-purple: #512BD4;
            --ef-green: #239B56;
            --ef-orange: #FF6B35;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, var(--light-bg) 0%, #e9ecef 100%);
            color: var(--dark-color);
            line-height: 1.6;
            padding-top: 80px;
        }

        /* Navigation */
        .navbar {
            background: linear-gradient(135deg, var(--ef-purple), var(--ef-green)) !important;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
        }

        .navbar-brand, .nav-link {
            color: white !important;
            font-weight: 500;
        }

        .nav-link:hover {
            color: rgba(255,255,255,0.8) !important;
        }

        /* Header */
        .module-header {
            background: linear-gradient(135deg, var(--ef-purple), var(--ef-green));
            color: white;
            padding: 3rem 0;
            margin-bottom: 3rem;
        }

        .module-number {
            background: rgba(255,255,255,0.2);
            border-radius: 50px;
            padding: 0.5rem 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            display: inline-block;
        }

        .module-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }

        .module-description {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        /* Content */
        .content-section {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            border-left: 5px solid var(--ef-purple);
        }

        .section-title {
            color: var(--ef-purple);
            font-weight: 700;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .code-block {
            background: #2d3748;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
            overflow-x: auto;
        }

        .code-block pre {
            margin: 0;
            color: #e2e8f0;
            font-family: 'JetBrains Mono', monospace;
        }

        .highlight-box {
            background: linear-gradient(135deg, rgba(81, 43, 212, 0.1), rgba(35, 155, 86, 0.1));
            border-left: 4px solid var(--ef-purple);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .warning-box {
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.1), rgba(255, 107, 53, 0.1));
            border-left: 4px solid var(--warning-color);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .exercise-box {
            background: linear-gradient(135deg, rgba(23, 162, 184, 0.1), rgba(32, 201, 151, 0.1));
            border-left: 4px solid var(--info-color);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .exercise-title {
            color: var(--info-color);
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .step-card {
            background: white;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }

        .step-card:hover {
            border-color: var(--ef-purple);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(81, 43, 212, 0.1);
        }

        .step-number {
            background: var(--ef-purple);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-right: 1rem;
            flex-shrink: 0;
        }

        .command-box {
            background: #1a1a1a;
            color: #00ff00;
            padding: 1rem;
            border-radius: 5px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            margin: 0.5rem 0;
            position: relative;
        }

        .command-box::before {
            content: '$ ';
            color: #00ff00;
        }

        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: rgba(255,255,255,0.1);
            border: none;
            color: #00ff00;
            padding: 0.25rem 0.5rem;
            border-radius: 3px;
            font-size: 0.8rem;
            cursor: pointer;
        }

        .copy-btn:hover {
            background: rgba(255,255,255,0.2);
        }

        .migration-timeline {
            position: relative;
            padding-left: 2rem;
        }

        .migration-timeline::before {
            content: '';
            position: absolute;
            left: 0.5rem;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--ef-purple);
        }

        .migration-item {
            position: relative;
            background: white;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            margin-left: 1rem;
        }

        .migration-item::before {
            content: '';
            position: absolute;
            left: -1.5rem;
            top: 1.5rem;
            width: 12px;
            height: 12px;
            background: var(--ef-purple);
            border-radius: 50%;
            border: 3px solid white;
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            padding: 2rem 0;
        }

        .btn-nav {
            background: linear-gradient(135deg, var(--ef-purple), var(--ef-green));
            border: none;
            color: white;
            padding: 0.75rem 2rem;
            border-radius: 25px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .btn-nav:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(81, 43, 212, 0.3);
            color: white;
        }

        /* Interactive checkboxes for exercises */
        input[type="checkbox"] {
            width: 18px;
            height: 18px;
            margin-right: 10px;
            accent-color: var(--ef-purple);
        }

        .list-unstyled li {
            margin-bottom: 8px;
            display: flex;
            align-items: flex-start;
        }

        .list-unstyled label {
            flex: 1;
            cursor: pointer;
            padding-left: 5px;
        }

        @media (max-width: 768px) {
            .module-title {
                font-size: 2rem;
            }
            .content-section {
                padding: 1.5rem;
            }
            .navigation-buttons {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-database me-2"></i>
                Formation Entity Framework
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">
                            <i class="fas fa-home me-1"></i>Accueil
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html#modules">
                            <i class="fas fa-book me-1"></i>Modules
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Module Header -->
    <div class="module-header">
        <div class="container">
            <div class="module-number">
                <i class="fas fa-code-branch me-2"></i>
                Module 5
            </div>
            <h1 class="module-title">Les Migrations Entity Framework</h1>
            <p class="module-description">
                Ma√Ætrisez l'√©volution de votre base de donn√©es avec les migrations : cr√©ation, application, et gestion des changements
            </p>
            <div class="d-flex gap-3 mt-3 flex-wrap">
                <span class="badge bg-light text-dark px-3 py-2">
                    <i class="fas fa-clock me-1"></i>4 heures
                </span>
                <span class="badge bg-light text-dark px-3 py-2">
                    <i class="fas fa-tasks me-1"></i>8 exercices
                </span>
                <span class="badge bg-light text-dark px-3 py-2">
                    <i class="fas fa-code-branch me-1"></i>Migrations
                </span>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container">
        
        <!-- Section 1: Introduction aux Migrations expliqu√©e pour super d√©butants -->
        <div class="content-section">
            <h2 class="section-title">
                <i class="fas fa-question-circle"></i>
                Qu'est-ce que les Migrations ? (Guide Complet pour D√©butants)
            </h2>

            <h3><i class="fas fa-lightbulb me-2"></i>Analogie Simple : La R√©novation d'une Maison</h3>

            <div class="highlight-box">
                <h5><i class="fas fa-home me-2"></i>Imaginez que vous r√©novez votre maison</h5>
                <p>
                    Vous habitez dans une maison depuis 2 ans. Au d√©but, elle avait :
                </p>
                <ul>
                    <li>üè† 2 chambres, 1 salle de bain, 1 cuisine</li>
                    <li>üé® Murs blancs partout</li>
                    <li>ü™ü Fen√™tres en bois</li>
                </ul>
                
                <p>
                    Mais vos besoins √©voluent ! Vous voulez :
                </p>
                <ul>
                    <li>‚ûï Ajouter une 3√®me chambre</li>
                    <li>üé® Repeindre le salon en bleu</li>
                    <li>ü™ü Remplacer les fen√™tres par du PVC</li>
                    <li>üöø Moderniser la salle de bain</li>
                </ul>

                <p class="mb-0">
                    <strong>Les migrations Entity Framework fonctionnent exactement comme √ßa !</strong> 
                    Votre base de donn√©es √©volue au fil du temps, et les migrations sont vos 
                    "plans de r√©novation" qui transforment votre base √©tape par √©tape.
                </p>
            </div>

            <h3><i class="fas fa-cogs me-2"></i>Qu'est-ce qu'une Migration Concr√®tement ?</h3>

            <div class="warning-box">
                <h6><i class="fas fa-info-circle me-2"></i>D√©finition Simple</h6>
                <p>
                    Une <strong>migration</strong> est un fichier C# qui contient les instructions 
                    pour transformer votre base de donn√©es d'un √©tat A vers un √©tat B.
                </p>
                
                <h6>Par exemple :</h6>
                <ul>
                    <li><strong>√âtat A</strong> ‚Üí Table "Products" avec colonnes : Id, Name, Price</li>
                    <li><strong>Migration</strong> ‚Üí "Ajouter la colonne Description"</li>
                    <li><strong>√âtat B</strong> ‚Üí Table "Products" avec colonnes : Id, Name, Price, Description</li>
                </ul>

                <p class="mb-0">
                    <strong>Magique :</strong> Entity Framework g√©n√®re automatiquement le code SQL 
                    n√©cessaire pour passer de A √† B !
                </p>
            </div>

            <h3><i class="fas fa-history me-2"></i>Pourquoi les Migrations sont Indispensables ?</h3>

            <div class="row">
                <div class="col-md-6">
                    <div class="highlight-box">
                        <h6><i class="fas fa-users me-2 text-success"></i>Travail en √âquipe</h6>
                        <p class="small">
                            <strong>Probl√®me :</strong> Vous modifiez votre mod√®le C#. Comment vos coll√®gues 
                            mettent-ils √† jour leur base de donn√©es locale ?
                        </p>
                        <p class="small text-success mb-0">
                            <strong>Solution :</strong> Ils appliquent vos migrations ! 
                            Tout le monde a la m√™me structure de base.
                        </p>
                    </div>

                    <div class="highlight-box">
                        <h6><i class="fas fa-rocket me-2 text-success"></i>D√©ploiement</h6>
                        <p class="small">
                            <strong>Probl√®me :</strong> Votre application √©volue. Comment mettre √† jour 
                            la base de donn√©es en production sans tout casser ?
                        </p>
                        <p class="small text-success mb-0">
                            <strong>Solution :</strong> Les migrations s'appliquent automatiquement 
                            au d√©ploiement, en pr√©servant les donn√©es existantes.
                        </p>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="highlight-box">
                        <h6><i class="fas fa-history me-2 text-success"></i>Historique</h6>
                        <p class="small">
                            <strong>Probl√®me :</strong> Vous voulez savoir quand et pourquoi 
                            une colonne a √©t√© ajout√©e √† votre base.
                        </p>
                        <p class="small text-success mb-0">
                            <strong>Solution :</strong> Chaque migration est dat√©e et document√©e. 
                            C'est l'historique complet de votre base !
                        </p>
                    </div>

                    <div class="highlight-box">
                        <h6><i class="fas fa-undo me-2 text-success"></i>Retour en Arri√®re</h6>
                        <p class="small">
                            <strong>Probl√®me :</strong> Une modification pose probl√®me. 
                            Comment revenir √† l'√©tat pr√©c√©dent ?
                        </p>
                        <p class="small text-success mb-0">
                            <strong>Solution :</strong> Les migrations peuvent √™tre annul√©es ! 
                            Vous pouvez revenir √† n'importe quel √©tat ant√©rieur.
                        </p>
                    </div>
                </div>
            </div>

            <h3><i class="fas fa-route me-2"></i>Le Cycle de Vie d'une Migration</h3>

            <div class="migration-timeline">
                <div class="migration-item">
                    <h6><i class="fas fa-edit me-2 text-primary"></i>√âtape 1 : Vous Modifiez votre Mod√®le</h6>
                    <p class="mb-0">
                        Vous ajoutez une propri√©t√© √† votre classe C# : 
                        <code>public string Description { get; set; }</code>
                    </p>
                </div>

                <div class="migration-item">
                    <h6><i class="fas fa-magic me-2 text-primary"></i>√âtape 2 : Vous Cr√©ez une Migration</h6>
                    <p class="mb-0">
                        Commande : <code>dotnet ef migrations add AddDescription</code><br>
                        EF compare votre mod√®le actuel avec la base et g√©n√®re le code de migration.
                    </p>
                </div>

                <div class="migration-item">
                    <h6><i class="fas fa-play me-2 text-primary"></i>√âtape 3 : Vous Appliquez la Migration</h6>
                    <p class="mb-0">
                        Commande : <code>dotnet ef database update</code><br>
                        EF ex√©cute le SQL g√©n√©r√© pour modifier la base de donn√©es.
                    </p>
                </div>

                <div class="migration-item">
                    <h6><i class="fas fa-check-circle me-2 text-success"></i>√âtape 4 : Mission Accomplie !</h6>
                    <p class="mb-0">
                        Votre base de donn√©es a maintenant la colonne "Description". 
                        Vos donn√©es existantes sont pr√©serv√©es.
                    </p>
                </div>
            </div>

            <h3><i class="fas fa-map me-2"></i>Notre Plan d'Apprentissage pour ce Module</h3>

            <div class="highlight-box">
                <h6><i class="fas fa-list-ol me-2"></i>Ce que nous allons apprendre ensemble :</h6>
                <ol>
                    <li><strong>Cr√©er votre premi√®re migration</strong> ‚Üí √âtape par √©tape, sans erreur</li>
                    <li><strong>Comprendre les fichiers g√©n√©r√©s</strong> ‚Üí Que contiennent-ils exactement ?</li>
                    <li><strong>Appliquer et annuler des migrations</strong> ‚Üí Aller et revenir en arri√®re</li>
                    <li><strong>G√©rer les donn√©es existantes</strong> ‚Üí Migrations sans perte de donn√©es</li>
                    <li><strong>Migrations avanc√©es</strong> ‚Üí Index, contraintes, donn√©es de r√©f√©rence</li>
                    <li><strong>D√©ploiement en production</strong> ‚Üí Appliquer les migrations en toute s√©curit√©</li>
                    <li><strong>R√©soudre les probl√®mes courants</strong> ‚Üí Conflits, erreurs, r√©cup√©ration</li>
                </ol>
            </div>
        </div>

        <!-- Section 2: Premi√®re Migration Pas √† Pas -->
        <div class="content-section">
            <h2 class="section-title">
                <i class="fas fa-play-circle"></i>
                Votre Premi√®re Migration : Guide Pas √† Pas (Super D√©butant)
            </h2>

            <h3><i class="fas fa-rocket me-2"></i>Pr√©paration : Cr√©ons un Projet d'Exemple</h3>

            <div class="step-card">
                <div class="d-flex">
                    <div class="step-number">1</div>
                    <div class="flex-grow-1">
                        <h5>Cr√©er le projet et installer EF Core</h5>
                        <p>Cr√©ons un nouveau projet d√©di√© √† l'apprentissage des migrations :</p>
                        
                        <div class="command-box">
                            dotnet new console -n MigrationDemo
                            <button class="copy-btn" onclick="copyToClipboard('dotnet new console -n MigrationDemo')">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <div class="command-box">
                            cd MigrationDemo
                            <button class="copy-btn" onclick="copyToClipboard('cd MigrationDemo')">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        
                        <p>Installer les packages Entity Framework :</p>
                        <div class="command-box">
                            dotnet add package Microsoft.EntityFrameworkCore
                            <button class="copy-btn" onclick="copyToClipboard('dotnet add package Microsoft.EntityFrameworkCore')">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <div class="command-box">
                            dotnet add package Microsoft.EntityFrameworkCore.SqlServer
                            <button class="copy-btn" onclick="copyToClipboard('dotnet add package Microsoft.EntityFrameworkCore.SqlServer')">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <div class="command-box">
                            dotnet add package Microsoft.EntityFrameworkCore.Tools
                            <button class="copy-btn" onclick="copyToClipboard('dotnet add package Microsoft.EntityFrameworkCore.Tools')">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="d-flex">
                    <div class="step-number">2</div>
                    <div class="flex-grow-1">
                        <h5>Cr√©er le mod√®le initial simple</h5>
                        <p>Cr√©ons un mod√®le tr√®s simple pour commencer :</p>
                        
                        <h6>Fichier : Models/Product.cs</h6>
                        <div class="code-block">
                            <pre><code class="language-csharp">using System.ComponentModel.DataAnnotations;

namespace MigrationDemo.Models
{
    public class Product
    {
        public int Id { get; set; }
        
        [Required]
        [StringLength(100)]
        public string Name { get; set; }
        
        public decimal Price { get; set; }
        
        public DateTime CreatedAt { get; set; } = DateTime.Now;
    }
}</code></pre>
                        </div>

                        <h6>Fichier : Data/AppDbContext.cs</h6>
                        <div class="code-block">
                            <pre><code class="language-csharp">using Microsoft.EntityFrameworkCore;
using MigrationDemo.Models;

namespace MigrationDemo.Data
{
    public class AppDbContext : DbContext
    {
        public DbSet&lt;Product&gt; Products { get; set; }

        protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)
        {
            optionsBuilder.UseSqlServer(@"Server=(localdb)\mssqllocaldb;Database=MigrationDemo;Trusted_Connection=true;");
        }
    }
}</code></pre>
                        </div>

                        <div class="warning-box">
                            <h6><i class="fas fa-info-circle me-2"></i>Explication du Code</h6>
                            <ul class="mb-0">
                                <li><strong>Product</strong> ‚Üí Mod√®le simple avec 4 propri√©t√©s</li>
                                <li><strong>AppDbContext</strong> ‚Üí Notre contexte de base de donn√©es</li>
                                <li><strong>OnConfiguring</strong> ‚Üí Connexion √† SQL Server LocalDB (gratuit avec Visual Studio)</li>
                                <li><strong>DbSet&lt;Product&gt;</strong> ‚Üí Repr√©sente la table "Products"</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <h3><i class="fas fa-magic me-2"></i>Cr√©er la Premi√®re Migration</h3>

            <div class="step-card">
                <div class="d-flex">
                    <div class="step-number">3</div>
                    <div class="flex-grow-1">
                        <h5>G√©n√©rer la migration initiale</h5>
                        <p>Maintenant, cr√©ons notre premi√®re migration qui va cr√©er la table Products :</p>
                        
                        <div class="command-box">
                            dotnet ef migrations add InitialCreate
                            <button class="copy-btn" onclick="copyToClipboard('dotnet ef migrations add InitialCreate')">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>

                        <div class="highlight-box">
                            <h6><i class="fas fa-magic me-2"></i>Ce qui se passe :</h6>
                            <ol class="mb-0">
                                <li>EF analyse votre mod√®le Product</li>
                                <li>Il compare avec la base (qui n'existe pas encore)</li>
                                <li>Il g√©n√®re le code pour cr√©er la table Products</li>
                                <li>Il cr√©e un dossier "Migrations" avec 2 fichiers</li>
                            </ol>
                        </div>

                        <p><strong>R√©sultat attendu :</strong></p>
                        <div class="code-block">
                            <pre><code class="language-text">Build started...
Build succeeded.
Done. To undo this action, use 'ef migrations remove'</code></pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="d-flex">
                    <div class="step-number">4</div>
                    <div class="flex-grow-1">
                        <h5>Explorer les fichiers g√©n√©r√©s</h5>
                        <p>La migration a cr√©√© un dossier "Migrations" avec 2 fichiers importants :</p>
                        
                        <h6>üìÅ Structure cr√©√©e :</h6>
                        <div class="code-block">
                            <pre><code class="language-text">MigrationDemo/
‚îú‚îÄ‚îÄ Models/
‚îÇ   ‚îî‚îÄ‚îÄ Product.cs
‚îú‚îÄ‚îÄ Data/
‚îÇ   ‚îî‚îÄ‚îÄ AppDbContext.cs
‚îî‚îÄ‚îÄ Migrations/
    ‚îú‚îÄ‚îÄ 20241201120000_InitialCreate.cs      ‚Üê Le fichier de migration
    ‚îî‚îÄ‚îÄ AppDbContextModelSnapshot.cs         ‚Üê L'√©tat actuel du mod√®le</code></pre>
                        </div>

                        <h6>üìÑ Contenu du fichier de migration :</h6>
                        <div class="code-block">
                            <pre><code class="language-csharp">using Microsoft.EntityFrameworkCore.Migrations;

public partial class InitialCreate : Migration
{
    // ‚Üì Code pour APPLIQUER la migration (cr√©er la table)
    protected override void Up(MigrationBuilder migrationBuilder)
    {
        migrationBuilder.CreateTable(
            name: "Products",
            columns: table => new
            {
                Id = table.Column&lt;int&gt;(type: "int", nullable: false)
                    .Annotation("SqlServer:Identity", "1, 1"),
                Name = table.Column&lt;string&gt;(type: "nvarchar(100)", maxLength: 100, nullable: false),
                Price = table.Column&lt;decimal&gt;(type: "decimal(18,2)", nullable: false),
                CreatedAt = table.Column&lt;DateTime&gt;(type: "datetime2", nullable: false)
            },
            constraints: table =>
            {
                table.PrimaryKey("PK_Products", x => x.Id);
            });
    }

    // ‚Üì Code pour ANNULER la migration (supprimer la table)
    protected override void Down(MigrationBuilder migrationBuilder)
    {
        migrationBuilder.DropTable(
            name: "Products");
    }
}</code></pre>
                        </div>

                        <div class="warning-box">
                            <h6><i class="fas fa-brain me-2"></i>Comprendre les M√©thodes</h6>
                            <ul class="mb-0">
                                <li><strong>Up()</strong> ‚Üí Code pour appliquer la migration (aller vers l'avant)</li>
                                <li><strong>Down()</strong> ‚Üí Code pour annuler la migration (revenir en arri√®re)</li>
                                <li><strong>MigrationBuilder</strong> ‚Üí Outil pour g√©n√©rer le SQL automatiquement</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <h3><i class="fas fa-play me-2"></i>Appliquer la Migration</h3>

            <div class="step-card">
                <div class="d-flex">
                    <div class="step-number">5</div>
                    <div class="flex-grow-1">
                        <h5>Cr√©er la base de donn√©es</h5>
                        <p>Maintenant, appliquons notre migration pour cr√©er r√©ellement la base de donn√©es :</p>
                        
                        <div class="command-box">
                            dotnet ef database update
                            <button class="copy-btn" onclick="copyToClipboard('dotnet ef database update')">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>

                        <p><strong>R√©sultat attendu :</strong></p>
                        <div class="code-block">
                            <pre><code class="language-text">Build started...
Build succeeded.
Applying migration '20241201120000_InitialCreate'.
Done.</code></pre>
                        </div>

                        <div class="highlight-box">
                            <h6><i class="fas fa-check-circle me-2 text-success"></i>F√©licitations ! Voici ce qui s'est pass√© :</h6>
                            <ol class="mb-0">
                                <li>EF a cr√©√© la base de donn√©es "MigrationDemo"</li>
                                <li>Il a cr√©√© la table "Products" avec les 4 colonnes</li>
                                <li>Il a cr√©√© une table syst√®me "__EFMigrationsHistory" pour suivre les migrations appliqu√©es</li>
                                <li>Votre base est maintenant pr√™te √† recevoir des donn√©es !</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="d-flex">
                    <div class="step-number">6</div>
                    <div class="flex-grow-1">
                        <h5>V√©rifier le r√©sultat</h5>
                        <p>V√©rifions que tout fonctionne en ajoutant quelques donn√©es de test :</p>
                        
                        <h6>Fichier : Program.cs</h6>
                        <div class="code-block">
                            <pre><code class="language-csharp">using MigrationDemo.Data;
using MigrationDemo.Models;

Console.WriteLine("=== Test de notre premi√®re migration ===");

using var context = new AppDbContext();

// Ajouter quelques produits de test
var products = new List&lt;Product&gt;
{
    new Product { Name = "iPhone 15", Price = 999.99m },
    new Product { Name = "MacBook Pro", Price = 2299.99m },
    new Product { Name = "AirPods Pro", Price = 279.99m }
};

context.Products.AddRange(products);
await context.SaveChangesAsync();

Console.WriteLine($"‚úÖ {products.Count} produits ajout√©s avec succ√®s !");

// Lire les donn√©es
var allProducts = context.Products.ToList();
Console.WriteLine($"\nüì¶ Produits en base de donn√©es :");

foreach (var product in allProducts)
{
    Console.WriteLine($"- {product.Name} : {product.Price:C} (ID: {product.Id})");
}

Console.WriteLine("\nüéâ Migration r√©ussie ! Votre base de donn√©es fonctionne parfaitement.");</code></pre>
                        </div>

                        <div class="command-box">
                            dotnet run
                            <button class="copy-btn" onclick="copyToClipboard('dotnet run')">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>

                        <p><strong>R√©sultat attendu :</strong></p>
                        <div class="code-block">
                            <pre><code class="language-text">=== Test de notre premi√®re migration ===
‚úÖ 3 produits ajout√©s avec succ√®s !

üì¶ Produits en base de donn√©es :
- iPhone 15 : 999,99 ‚Ç¨ (ID: 1)
- MacBook Pro : 2 299,99 ‚Ç¨ (ID: 2)
- AirPods Pro : 279,99 ‚Ç¨ (ID: 3)

üéâ Migration r√©ussie ! Votre base de donn√©es fonctionne parfaitement.</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 3: Ajouter une Nouvelle Migration -->
        <div class="content-section">
            <h2 class="section-title">
                <i class="fas fa-plus-circle"></i>
                √âvolution du Mod√®le : Ajouter une Nouvelle Migration
            </h2>

            <h3><i class="fas fa-edit me-2"></i>Sc√©nario : Nous Voulons Ajouter une Description aux Produits</h3>

            <div class="warning-box">
                <h6><i class="fas fa-lightbulb me-2"></i>Situation R√©aliste</h6>
                <p>
                    Votre application fonctionne depuis 1 mois. Vous avez 100 produits en base de donn√©es. 
                    Vos utilisateurs demandent maintenant d'ajouter une description d√©taill√©e pour chaque produit.
                </p>
                <p class="mb-0">
                    <strong>Probl√®me :</strong> Comment ajouter cette colonne sans perdre les donn√©es existantes ? 
                    <strong>R√©ponse :</strong> Avec une migration !
                </p>
            </div>

            <div class="step-card">
                <div class="d-flex">
                    <div class="step-number">1</div>
                    <div class="flex-grow-1">
                        <h5>Modifier le mod√®le Product</h5>
                        <p>D'abord, ajoutons la propri√©t√© Description √† notre mod√®le :</p>
                        
                        <h6>Models/Product.cs (version mise √† jour)</h6>
                        <div class="code-block">
                            <pre><code class="language-csharp">using System.ComponentModel.DataAnnotations;

namespace MigrationDemo.Models
{
    public class Product
    {
        public int Id { get; set; }
        
        [Required]
        [StringLength(100)]
        public string Name { get; set; }
        
        // ‚ú® NOUVELLE PROPRI√âT√â AJOUT√âE
        [StringLength(1000)]
        public string Description { get; set; }
        
        public decimal Price { get; set; }
        
        public DateTime CreatedAt { get; set; } = DateTime.Now;
    }
}</code></pre>
                        </div>

                        <div class="highlight-box">
                            <h6><i class="fas fa-info-circle me-2"></i>Ce qui a chang√© :</h6>
                            <ul class="mb-0">
                                <li>‚ûï Ajout de la propri√©t√© <code>Description</code></li>
                                <li>üìè Longueur limit√©e √† 1000 caract√®res</li>
                                <li>‚ùì Propri√©t√© nullable (pas de [Required]) ‚Üí les produits existants auront Description = null</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="d-flex">
                    <div class="step-number">2</div>
                    <div class="flex-grow-1">
                        <h5>Cr√©er la migration pour cette modification</h5>
                        <p>Cr√©ons une nouvelle migration qui ajoutera la colonne Description :</p>
                        
                        <div class="command-box">
                            dotnet ef migrations add AddProductDescription
                            <button class="copy-btn" onclick="copyToClipboard('dotnet ef migrations add AddProductDescription')">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>

                        <p><strong>R√©sultat :</strong></p>
                        <div class="code-block">
                            <pre><code class="language-text">Build started...
Build succeeded.
Done. To undo this action, use 'ef migrations remove'</code></pre>
                        </div>

                        <div class="highlight-box">
                            <h6><i class="fas fa-brain me-2"></i>Ce qu'Entity Framework a fait automatiquement :</h6>
                            <ol class="mb-0">
                                <li>Il a compar√© votre mod√®le actuel avec l'√©tat pr√©c√©dent</li>
                                <li>Il a d√©tect√© l'ajout de la propri√©t√© Description</li>
                                <li>Il a g√©n√©r√© le code SQL pour ajouter la colonne</li>
                                <li>Il a cr√©√© un nouveau fichier de migration</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="d-flex">
                    <div class="step-number">3</div>
                    <div class="flex-grow-1">
                        <h5>Examiner la migration g√©n√©r√©e</h5>
                        <p>Regardons ce qu'EF a g√©n√©r√© dans le nouveau fichier de migration :</p>
                        
                        <h6>üìÅ Nouvelle structure :</h6>
                        <div class="code-block">
                            <pre><code class="language-text">Migrations/
‚îú‚îÄ‚îÄ 20241201120000_InitialCreate.cs           ‚Üê Premi√®re migration
‚îú‚îÄ‚îÄ 20241201140000_AddProductDescription.cs   ‚Üê NOUVELLE migration
‚îî‚îÄ‚îÄ AppDbContextModelSnapshot.cs              ‚Üê √âtat mis √† jour</code></pre>
                        </div>

                        <h6>üìÑ Contenu de AddProductDescription.cs :</h6>
                        <div class="code-block">
                            <pre><code class="language-csharp">using Microsoft.EntityFrameworkCore.Migrations;

public partial class AddProductDescription : Migration
{
    // ‚Üì Ajouter la colonne Description
    protected override void Up(MigrationBuilder migrationBuilder)
    {
        migrationBuilder.AddColumn&lt;string&gt;(
            name: "Description",
            table: "Products",
            type: "nvarchar(1000)",
            maxLength: 1000,
            nullable: true);  // ‚Üê nullable = true car pas de [Required]
    }

    // ‚Üì Supprimer la colonne Description (pour annuler)
    protected override void Down(MigrationBuilder migrationBuilder)
    {
        migrationBuilder.DropColumn(
            name: "Description",
            table: "Products");
    }
}</code></pre>
                        </div>

                        <div class="warning-box">
                            <h6><i class="fas fa-shield-alt me-2"></i>S√©curit√© des Donn√©es</h6>
                            <p class="mb-0">
                                Remarquez que <code>nullable: true</code> ! C'est crucial car vos produits 
                                existants n'ont pas de description. EF ajoute la colonne avec des valeurs NULL 
                                pour pr√©server vos donn√©es existantes.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="d-flex">
                    <div class="step-number">4</div>
                    <div class="flex-grow-1">
                        <h5>Appliquer la nouvelle migration</h5>
                        <p>Appliquons cette migration pour ajouter la colonne √† notre base :</p>
                        
                        <div class="command-box">
                            dotnet ef database update
                            <button class="copy-btn" onclick="copyToClipboard('dotnet ef database update')">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>

                        <p><strong>R√©sultat :</strong></p>
                        <div class="code-block">
                            <pre><code class="language-text">Build started...
Build succeeded.
Applying migration '20241201140000_AddProductDescription'.
Done.</code></pre>
                        </div>

                        <div class="highlight-box">
                            <h6><i class="fas fa-check-circle me-2 text-success"></i>Mission Accomplie !</h6>
                            <ul class="mb-0">
                                <li>‚úÖ Colonne "Description" ajout√©e √† la table Products</li>
                                <li>‚úÖ Vos 3 produits existants sont toujours l√†</li>
                                <li>‚úÖ Leur Description est NULL (normal)</li>
                                <li>‚úÖ Vous pouvez maintenant ajouter des descriptions</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="d-flex">
                    <div class="step-number">5</div>
                    <div class="flex-grow-1">
                        <h5>Tester la nouvelle fonctionnalit√©</h5>
                        <p>Mettons √† jour notre code de test pour utiliser la nouvelle propri√©t√© :</p>
                        
                        <h6>Program.cs (version mise √† jour)</h6>
                        <div class="code-block">
                            <pre><code class="language-csharp">using MigrationDemo.Data;
using MigrationDemo.Models;

Console.WriteLine("=== Test apr√®s ajout de la colonne Description ===");

using var context = new AppDbContext();

// Lire les produits existants
var existingProducts = context.Products.ToList();
Console.WriteLine($"üì¶ Produits existants (Description devrait √™tre null) :");

foreach (var product in existingProducts)
{
    Console.WriteLine($"- {product.Name} : {product.Price:C}");
    Console.WriteLine($"  Description: {product.Description ?? "[Pas de description]"}");
}

// Ajouter un nouveau produit AVEC description
var newProduct = new Product 
{ 
    Name = "iPad Pro", 
    Price = 1099.99m,
    Description = "Tablette professionnelle avec √©cran Liquid Retina et puce M2"
};

context.Products.Add(newProduct);
await context.SaveChangesAsync();

Console.WriteLine($"\n‚úÖ Nouveau produit ajout√© avec description !");

// Mettre √† jour un produit existant
var iPhone = existingProducts.First(p => p.Name == "iPhone 15");
iPhone.Description = "Smartphone r√©volutionnaire avec appareil photo 48MP";
await context.SaveChangesAsync();

Console.WriteLine($"‚úÖ Description ajout√©e √† l'iPhone existant !");

Console.WriteLine("\nüéâ La migration fonctionne parfaitement ! Donn√©es pr√©serv√©es et nouvelles fonctionnalit√©s disponibles.");</code></pre>
                        </div>

                        <div class="command-box">
                            dotnet run
                            <button class="copy-btn" onclick="copyToClipboard('dotnet run')">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 4: Gestion des Migrations -->
        <div class="content-section">
            <h2 class="section-title">
                <i class="fas fa-cogs"></i>
                Gestion Avanc√©e des Migrations
            </h2>

            <h3><i class="fas fa-list me-2"></i>Commandes Essentielles des Migrations</h3>

            <div class="row">
                <div class="col-md-6">
                    <div class="highlight-box">
                        <h6><i class="fas fa-terminal me-2"></i>Commandes de Base</h6>
                        <ul class="small mb-0">
                            <li><code>dotnet ef migrations add [Nom]</code><br>‚Üí Cr√©er une nouvelle migration</li>
                            <li><code>dotnet ef database update</code><br>‚Üí Appliquer toutes les migrations</li>
                            <li><code>dotnet ef migrations list</code><br>‚Üí Lister toutes les migrations</li>
                            <li><code>dotnet ef migrations remove</code><br>‚Üí Supprimer la derni√®re migration</li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="highlight-box">
                        <h6><i class="fas fa-magic me-2"></i>Commandes Avanc√©es</h6>
                        <ul class="small mb-0">
                            <li><code>dotnet ef database update [Migration]</code><br>‚Üí Revenir √† une migration sp√©cifique</li>
                            <li><code>dotnet ef migrations script</code><br>‚Üí G√©n√©rer un script SQL</li>
                            <li><code>dotnet ef database drop</code><br>‚Üí Supprimer la base compl√®tement</li>
                            <li><code>dotnet ef dbcontext info</code><br>‚Üí Informations sur le contexte</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h3><i class="fas fa-undo me-2"></i>Annuler une Migration</h3>

            <div class="warning-box">
                <h6><i class="fas fa-exclamation-triangle me-2"></i>Sc√©nario : Oups, j'ai fait une erreur !</h6>
                <p>
                    Imaginez que vous venez de cr√©er une migration qui ajoute une colonne "Weight" 
                    mais vous r√©alisez que vous vouliez "Weight" en grammes, pas en kilos. 
                    Comment revenir en arri√®re ?
                </p>
            </div>

            <div class="step-card">
                <div class="d-flex">
                    <div class="step-number">1</div>
                    <div class="flex-grow-1">
                        <h5>Cr√©ons d'abord une migration "probl√©matique"</h5>
                        
                        <p>Ajoutons temporairement une propri√©t√© Weight √† Product :</p>
                        <div class="code-block">
                            <pre><code class="language-csharp">// Dans Models/Product.cs, ajoutez temporairement :
public decimal Weight { get; set; } // En kilos - ERREUR !</code></pre>
                        </div>

                        <div class="command-box">
                            dotnet ef migrations add AddProductWeight
                            <button class="copy-btn" onclick="copyToClipboard('dotnet ef migrations add AddProductWeight')">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="d-flex">
                    <div class="step-number">2</div>
                    <div class="flex-grow-1">
                        <h5>Annuler la migration (avant application)</h5>
                        
                        <p>Si vous n'avez PAS encore fait <code>dotnet ef database update</code> :</p>
                        <div class="command-box">
                            dotnet ef migrations remove
                            <button class="copy-btn" onclick="copyToClipboard('dotnet ef migrations remove')">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>

                        <p>Cette commande :</p>
                        <ul>
                            <li>‚úÖ Supprime le fichier de migration</li>
                            <li>‚úÖ Remet le ModelSnapshot √† l'√©tat pr√©c√©dent</li>
                            <li>‚úÖ Aucun impact sur la base de donn√©es</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="step-card">
                <div class="d-flex">
                    <div class="step-number">3</div>
                    <div class="flex-grow-1">
                        <h5>Annuler une migration d√©j√† appliqu√©e</h5>
                        
                        <p>Si vous AVEZ d√©j√† fait <code>dotnet ef database update</code> :</p>
                        
                        <h6>Option 1 : Revenir √† la migration pr√©c√©dente</h6>
                        <div class="command-box">
                            dotnet ef database update AddProductDescription
                            <button class="copy-btn" onclick="copyToClipboard('dotnet ef database update AddProductDescription')">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>

                        <h6>Option 2 : Cr√©er une migration corrective</h6>
                        <div class="code-block">
                            <pre><code class="language-csharp">// Supprimez la propri√©t√© Weight du mod√®le, puis :
dotnet ef migrations add RemoveProductWeight</code></pre>
                        </div>

                        <div class="warning-box">
                            <h6><i class="fas fa-info-circle me-2"></i>Quelle option choisir ?</h6>
                            <ul class="mb-0">
                                <li><strong>Option 1</strong> ‚Üí Si vous √™tes seul et en d√©veloppement</li>
                                <li><strong>Option 2</strong> ‚Üí Si d'autres d√©veloppeurs ont d√©j√† la migration ou si c'est en production</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <h3><i class="fas fa-history me-2"></i>Historique des Migrations</h3>

            <div class="command-box">
                dotnet ef migrations list
                <button class="copy-btn" onclick="copyToClipboard('dotnet ef migrations list')">
                    <i class="fas fa-copy"></i>
                </button>
            </div>

            <p><strong>R√©sultat typique :</strong></p>
            <div class="code-block">
                <pre><code class="language-text">20241201120000_InitialCreate (Applied)
20241201140000_AddProductDescription (Applied)
20241201160000_AddProductWeight (Pending)</code></pre>
            </div>

            <div class="highlight-box">
                <h6><i class="fas fa-info-circle me-2"></i>Comprendre l'√©tat des migrations :</h6>
                <ul class="mb-0">
                    <li><strong>(Applied)</strong> ‚Üí Migration d√©j√† appliqu√©e √† la base de donn√©es</li>
                    <li><strong>(Pending)</strong> ‚Üí Migration cr√©√©e mais pas encore appliqu√©e</li>
                    <li><strong>Ordre chronologique</strong> ‚Üí Les migrations s'appliquent dans l'ordre de cr√©ation</li>
                </ul>
            </div>
        </div>

        <!-- Section 5: Exercices Pratiques -->
        <div class="content-section">
            <h2 class="section-title">
                <i class="fas fa-dumbbell"></i>
                Exercices Pratiques : Ma√Ætriser les Migrations
            </h2>

            <div class="exercise-box">
                <h5 class="exercise-title">
                    <i class="fas fa-pencil-alt me-2"></i>
                    Exercice 1 : Votre Premi√®re Migration Compl√®te (Super D√©butant)
                </h5>
                <p><strong>Objectif :</strong> Cr√©er un projet complet avec migrations de A √† Z</p>
                
                <h6>üìã Checklist √† compl√©ter :</h6>
                <ul class="list-unstyled">
                    <li><input type="checkbox" id="ex1-1"><label for="ex1-1">Cr√©er un nouveau projet "BlogDemo"</label></li>
                    <li><input type="checkbox" id="ex1-2"><label for="ex1-2">Installer les packages EF Core + SQL Server + Tools</label></li>
                    <li><input type="checkbox" id="ex1-3"><label for="ex1-3">Cr√©er un mod√®le "BlogPost" avec : Id, Title, Content, PublishedDate</label></li>
                    <li><input type="checkbox" id="ex1-4"><label for="ex1-4">Cr√©er un DbContext "BlogContext"</label></li>
                    <li><input type="checkbox" id="ex1-5"><label for="ex1-5">Cr√©er la migration initiale "InitialCreate"</label></li>
                    <li><input type="checkbox" id="ex1-6"><label for="ex1-6">Appliquer la migration</label></li>
                    <li><input type="checkbox" id="ex1-7"><label for="ex1-7">Tester en ajoutant 3 articles de blog</label></li>
                    <li><input type="checkbox" id="ex1-8"><label for="ex1-8">V√©rifier que les donn√©es sont bien sauvegard√©es</label></li>
                </ul>

                <div class="warning-box">
                    <h6><i class="fas fa-lightbulb me-2"></i>Conseils :</h6>
                    <ul class="mb-0">
                        <li>Utilisez <code>[Required]</code> pour Title</li>
                        <li>Utilisez <code>[StringLength(200)]</code> pour Title</li>
                        <li>Content peut √™tre illimit√© (pas d'annotation)</li>
                        <li>PublishedDate peut √™tre nullable avec <code>DateTime?</code></li>
                    </ul>
                </div>
            </div>

            <div class="exercise-box">
                <h5 class="exercise-title">
                    <i class="fas fa-pencil-alt me-2"></i>
                    Exercice 2 : √âvolution du Mod√®le (D√©butant)
                </h5>
                <p><strong>Objectif :</strong> Faire √©voluer le mod√®le avec plusieurs migrations</p>
                
                <ol>
                    <li><strong>Migration 2 :</strong> Ajouter une propri√©t√© "Author" (string, 100 caract√®res max, obligatoire)</li>
                    <li><strong>Migration 3 :</strong> Ajouter une propri√©t√© "ViewCount" (int, d√©faut 0)</li>
                    <li><strong>Migration 4 :</strong> Ajouter une propri√©t√© "IsPublished" (bool, d√©faut false)</li>
                </ol>

                <div class="highlight-box">
                    <h6><i class="fas fa-question-circle me-2"></i>Questions de r√©flexion :</h6>
                    <ul class="mb-0">
                        <li>Que va-t-il se passer aux articles existants quand vous ajoutez "Author" obligatoire ?</li>
                        <li>Comment EF g√®re-t-il les valeurs par d√©faut ?</li>
                        <li>Dans quel ordre les migrations vont-elles s'appliquer ?</li>
                    </ul>
                </div>
            </div>

            <div class="exercise-box">
                <h5 class="exercise-title">
                    <i class="fas fa-pencil-alt me-2"></i>
                    Exercice 3 : Gestion d'Erreurs et R√©cup√©ration (Interm√©diaire)
                </h5>
                <p><strong>Objectif :</strong> Apprendre √† g√©rer les situations probl√©matiques</p>
                
                <h6>Sc√©nario :</h6>
                <ol>
                    <li>Cr√©ez une migration qui ajoute "Email" obligatoire √† BlogPost</li>
                    <li>Appliquez-la (cela devrait √©chouer car les articles existants n'ont pas d'email)</li>
                    <li>R√©solvez le probl√®me en modifiant la migration pour rendre Email nullable</li>
                    <li>Cr√©ez ensuite une migration s√©par√©e pour remplir les emails manquants</li>
                    <li>Enfin, cr√©ez une migration pour rendre Email obligatoire</li>
                </ol>

                <div class="warning-box">
                    <h6><i class="fas fa-brain me-2"></i>Apprentissage :</h6>
                    <p class="mb-0">
                        Cet exercice vous apprend √† g√©rer les migrations complexes avec des donn√©es existantes. 
                        En production, on ne peut pas simplement ajouter une colonne obligatoire !
                    </p>
                </div>
            </div>

            <div class="exercise-box">
                <h5 class="exercise-title">
                    <i class="fas fa-pencil-alt me-2"></i>
                    Exercice 4 : Projet E-commerce Complet (Avanc√©)
                </h5>
                <p><strong>Objectif :</strong> Cr√©er un syst√®me e-commerce complet avec migrations</p>
                
                <h6>Mod√®les √† cr√©er (dans l'ordre) :</h6>
                <ol>
                    <li><strong>Migration 1 :</strong> Category (Id, Name, Description)</li>
                    <li><strong>Migration 2 :</strong> Product (Id, Name, Price, CategoryId)</li>
                    <li><strong>Migration 3 :</strong> Customer (Id, FirstName, LastName, Email)</li>
                    <li><strong>Migration 4 :</strong> Order (Id, CustomerId, OrderDate, TotalAmount)</li>
                    <li><strong>Migration 5 :</strong> OrderItem (Id, OrderId, ProductId, Quantity, UnitPrice)</li>
                </ol>

                <h6>D√©fis suppl√©mentaires :</h6>
                <ul>
                    <li>Ajoutez des donn√©es de r√©f√©rence (seed data) dans les migrations</li>
                    <li>Cr√©ez des index sur les colonnes importantes</li>
                    <li>G√©rez les relations entre toutes les entit√©s</li>
                    <li>Testez l'annulation de migrations</li>
                </ul>
            </div>
        </div>

        <!-- Navigation -->
        <div class="navigation-buttons">
            <a href="module-4-code-first.html" class="btn-nav">
                <i class="fas fa-arrow-left me-2"></i>
                Module pr√©c√©dent
            </a>
            <a href="module-6-linq-queries.html" class="btn-nav">
                Module suivant
                <i class="fas fa-arrow-right ms-2"></i>
            </a>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Prism.js pour la coloration syntaxique -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <script>
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(function() {
                // Feedback visuel
                event.target.innerHTML = '<i class="fas fa-check"></i>';
                setTimeout(() => {
                    event.target.innerHTML = '<i class="fas fa-copy"></i>';
                }, 2000);
            });
        }
    </script>
</body>
</html>
